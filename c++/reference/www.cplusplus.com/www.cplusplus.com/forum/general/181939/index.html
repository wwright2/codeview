<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>find the last word in a string - C++ Forum</title>
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
<link rel="stylesheet" type="text/css" href="/v321/main.css">
<script src="/v321/main.js" type="text/javascript"></script>
<script type='text/javascript'>
var googletag = googletag || {};
googletag.cmd = googletag.cmd || [];
(function() {
var gads = document.createElement('script');
gads.async = true;
gads.type = 'text/javascript';
var useSSL = 'https:' == document.location.protocol;
gads.src = (useSSL ? 'https:' : 'http:') + 
'//www.googletagservices.com/tag/js/gpt.js';
var node = document.getElementsByTagName('script')[0];
node.parentNode.insertBefore(gads, node);
})();
</script>

<script type='text/javascript'>
googletag.cmd.push(function() {
googletag.defineSlot('/32882001/L', [728, 90], 'div-gpt-ad-1427191279638-0').addService(googletag.pubads());
googletag.enableServices();
});
</script>
</head>
<body>
<div id="I_top">
<div id="I_header">
<div id="I_logo"><a href="/" title="cplusplus.com"><div></div></a></div>
<div id="I_search">
<form id="search" action="/search.do" method="get">
Search: <input name="q" size="20" class="txt"> <input type="submit" value="Go" class="btn">
</form>
</div>
<div id="I_bar">
<ul>
<li><a href="/forum/">Forum</a></li>
<li><a href="/forum/general/">General C++ Programming</a></li>
<li class="here">find the last word in a string</li>
</ul>
</div>
<div id="I_user" class="C_LoginBox"><span title="ajax"></span></div>
</div>
</div>
<div id="I_mid">
<div id="I_wrap">
<div id="I_minheight"></div>
<div id="I_main">
<div class="C_support">
<div id='div-gpt-ad-1427191279638-0' style='width:728px; height:90px;'>
<script type='text/javascript'>
googletag.cmd.push(function() { googletag.display('div-gpt-ad-1427191279638-0'); });
</script>
</div>
</div>
<div id="I_content">
<h3><div class="C_ico solved" title="solved">&nbsp;</div> find the last word in a string</h3><span id="CH_edttl"></span><span class="rootdatPost" title="181939,root,0,-1,6,0"></span><div id="CH_PostList"><div class="C_forPost" id="msg892022"><span title="892022,202179,1023,42,1"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg892022" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmffc0f9a65e" title="Wed, 30 Dec 2015 06:31:49 +0000"></span><script type="text/javascript">WhenId('CH_zTmffc0f9a65e');</script><noscript>Dec 30, 2015 at 6:31am UTC</noscript></div>
<div class="dwho"><a href="/user/andrewllewop/"><b>andrewllewop</b> (42)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i892022">
I assumed that there would be functions to cover a lot of these string operations I've been doing lately but... Here is my newest problem.<br>
<br>
I am writing a function that finds the last word in a string but not getting the results. What i have done is to find the last character in the string by getting the size.<br>
I next use the function isspace(c) so once there is a space the loop breaks where the string variable "store" stores the characters of the last word in reverse order. But for some reason the function reverse is not reversing the character sequence.<br>
<br>
here is the code:<br>
<br>
include&lt;stdio.h&gt;<br>
#include&lt;ctype.h&gt;<br>
#include &lt;iostream&gt;<br>
#include &lt;string&gt;<br>
<br>
using namespace std;<br>
<br>
<br>
int main()<br>
{  char c;  string store;<br>
<br>
string str =" reverse string";<br>
int i = str.size()-1; <br>
<br>
while(str[i])<br>
 {<br>
   c=str[i];<br>
<br>
<br>
    if(isspace(c))<br>
    {   break;<br>
    }<br>
<br>
    cout&lt;&lt;c;<br>
    i--;<br>
<br>
    store.push_back(c);<br>
    reverse(store.begin(),store.end());<br>
}<br>
<br>
    cout&lt;&lt;endl&lt;&lt;store;<br>
<br>
<br>
 return 0;<br>
}<br>
<br>
Here is the result:<br>
<br>
(output)                        gnirts<br>
(after using reverse function)  srngit
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn892022"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg892025"><span title="892025,75536,1023,7545,-1"></span>
<div class="box reported">
<div class="boxtop">
<div class="dwhen"><a href="#msg892025" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmeca1fdf890" title="Wed, 30 Dec 2015 06:52:01 +0000"></span><script type="text/javascript">WhenId('CH_zTmeca1fdf890');</script><noscript>Dec 30, 2015 at 6:52am UTC</noscript></div>
<div class="dwho"><a href="/user/JLBorges/"><b>JLBorges</b> (7545)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i892025">
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br></code></pre></td>
<td class="source"><pre><code>std::string last_token( std::string str )
{
    <var>while</var>( !str.empty() &amp;&amp; std::isspace( str.back() ) ) str.pop_back() ; <cite>// remove trailing white space</cite>
    
    <var>const</var> <var>auto</var> pos = str.find_last_of( <kbd>" \t\n"</kbd> ) ; <cite>// locate the last white space</cite>
    
    <cite>// if not found, return the entire string else return the tail after the space</cite>
    <var>return</var> pos == std::string::npos ? str : str.substr(pos+1) ;
}</code></pre></td><td class="C_btnholder"></td></tr></table></div>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn892025"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg892031"><span title="892031,202179,1023,42,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg892031" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm03f64770e4" title="Wed, 30 Dec 2015 07:47:02 +0000"></span><script type="text/javascript">WhenId('CH_zTm03f64770e4');</script><noscript>Dec 30, 2015 at 7:47am UTC</noscript></div>
<div class="dwho"><a href="/user/andrewllewop/"><b>andrewllewop</b> (42)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i892031">
I've seen where you've sort of offset the last set of character with reference to the last white space(line 5) to store the position. How would you instead locate the last backslash instead of the white space?
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn892031"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg892032"><span title="892032,202179,1023,42,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg892032" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmd68f1f01bb" title="Wed, 30 Dec 2015 07:54:10 +0000"></span><script type="text/javascript">WhenId('CH_zTmd68f1f01bb');</script><noscript>Dec 30, 2015 at 7:54am UTC</noscript></div>
<div class="dwho"><a href="/user/andrewllewop/"><b>andrewllewop</b> (42)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i892032">
Man, how do you know all this <br>
no worries I found it though, thanks again<br>
str.find_last_of("/\\");
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn892032"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg892175"><span title="892175,202179,1023,42,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg892175" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm2ee0b801a3" title="Thu, 31 Dec 2015 04:35:07 +0000"></span><script type="text/javascript">WhenId('CH_zTm2ee0b801a3');</script><noscript>Dec 31, 2015 at 4:35am UTC</noscript></div>
<div class="dwho"><a href="/user/andrewllewop/"><b>andrewllewop</b> (42)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i892175">
just posting the solution, found the problem in original code.<br>
the reverse function was in the while loop should be outside:<br>
<br>
#include&lt;algorithm&gt;<br>
using namespace std;<br>
<br>
<br>
int main()<br>
{ char c; string store;<br>
<br>
     string str =" reverse string";<br>
     int i = str.size()-1; <br>
<br>
while(str[i])<br>
{<br>
   c=str[i];<br>
<br>
<br>
   if(isspace(c)){ break;}<br>
<br>
    i--;<br>
<br>
     store.push_back(c);<br>
}  <br>
     reverse(store.begin(),store.end());<br>
      cout&lt;&lt;endl&lt;&lt;store;<br>
<br>
<br>
<br>
return 0;<br>
}
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn892175"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg892177"><span title="892177,75536,1023,7545,-1"></span>
<div class="box reported">
<div class="boxtop">
<div class="dwhen"><a href="#msg892177" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm702deb13fe" title="Thu, 31 Dec 2015 04:58:56 +0000"></span><script type="text/javascript">WhenId('CH_zTm702deb13fe');</script><noscript>Dec 31, 2015 at 4:58am UTC</noscript></div>
<div class="dwho"><a href="/user/JLBorges/"><b>JLBorges</b> (7545)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i892177">
Same logic as above (reverse the string, read first token from the reversed string, and reverse the token):<br>
<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br></code></pre></td>
<td class="source"><pre><code>std::string last_token( std::string str )
{
    std::string token ;

    <cite>// read the first token from an input string stream constructed with the string in reverse</cite>
    std::istringstream( { str.rbegin(), str.rend() } ) &gt;&gt; token ; <cite>// #include &lt;sstream&gt;</cite>

    <cite>// return the reverse of the token that was read</cite>
    <var>return</var> { token.rbegin(), token.rend() } ;
}</code></pre></td><td class="C_btnholder"></td></tr></table></div>
 <br>
<a href="http://coliru.stacked-crooked.com/a/2346aee245545b49">http://coliru.stacked-crooked.com/a/2346aee245545b49</a>
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn892177"></span>

</div>
</div>
</div>
</div><div class="rootinsMore"></div><div class="rootbtnMore"></div><div class="rootinsNew"></div><div class="rootbtnNew"></div><div id="CH_insNew"></div><div id="CH_reply">Topic archived. No new replies allowed.</div><div id="CH_subscription"></div><div class="rootedtNew"></div><script type="text/javascript">new for_PostList(181939,1,202179,1,'CH_PostList','CH_subscription','CH_reply','CH_insNew','CH_edttl','/forum/thread.cgi','/forum/post.cgi','/forum/myposts.cgi',64,32,512,256,1024,16);</script></div>
</div>
<div id="I_nav">
<div class="sect root">
<h3><b><a href="/">C++</a></b></h3>
<ul>
<li class="folder info"><a href="/info/">Information</a></li>
<li class="folder doc"><a href="/doc/">Tutorials</a></li>
<li class="folder reference"><a href="/reference/">Reference</a></li>
<li class="folder articles"><a href="/articles/">Articles</a></li>
<li class="folder selected forum"><a href="/forum/">Forum</a></li>
</ul>
</div>
<div class="sect">
<h3><b><a href="/forum/">Forum</a></b></h3>
<ul>
<li><a href="/forum/beginner/"><b>Beginners</b></a></li><li><a href="/forum/windows/"><b>Windows Programming</b></a></li><li><a href="/forum/unices/"><b>UNIX/Linux Programming</b></a></li><li class="selected"><a href="/forum/general/"><b>General C++ Programming</b></a></li><li><a href="/forum/lounge/"><b>Lounge</b></a></li><li><a href="/forum/jobs/"><b>Jobs</b></a></li></ul>
</div>
<div id="I_subnav"></div>
<div class="C_ad234">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-7688470879129516";
google_ad_slot = "7445514729";
google_ad_width = 234;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div></div>
<div id="I_midclear"></div>
</div>
</div>
<div id="I_bottom">
<div id="I_footer">
	<a href="/">Home page</a> | <a href="/privacy.do">Privacy policy</a><br>&copy; cplusplus.com, 2000-2016 - All rights reserved - <i>v3.1</i><br><a href="/contact.do?referrer=www.cplusplus.com%2Fforum%2Fgeneral%2F181939%2F">Spotted an error? contact us</a>
</div>
</div>

<script type="text/javascript">
<!--
function NavFor(us) {document.getElementById('I_subnav').innerHTML=us.ok?'<div class="sect"><h3><b><a href="/user/">'+us.user+'</a></b></h3><ul><li><a href="/forum/myposts.cgi">My topics</a></li></ul></div>':'';}onSession(NavFor);ready();
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-521783-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//-->
</script>

</body>
</html>