<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>how make a multithread correctly synchro - C++ Forum</title>
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
<link rel="stylesheet" type="text/css" href="/v321/main.css">
<script src="/v321/main.js" type="text/javascript"></script>
<script type='text/javascript'>
var googletag = googletag || {};
googletag.cmd = googletag.cmd || [];
(function() {
var gads = document.createElement('script');
gads.async = true;
gads.type = 'text/javascript';
var useSSL = 'https:' == document.location.protocol;
gads.src = (useSSL ? 'https:' : 'http:') + 
'//www.googletagservices.com/tag/js/gpt.js';
var node = document.getElementsByTagName('script')[0];
node.parentNode.insertBefore(gads, node);
})();
</script>

<script type='text/javascript'>
googletag.cmd.push(function() {
googletag.defineSlot('/32882001/L', [728, 90], 'div-gpt-ad-1427191279638-0').addService(googletag.pubads());
googletag.enableServices();
});
</script>
</head>
<body>
<div id="I_top">
<div id="I_header">
<div id="I_logo"><a href="/" title="cplusplus.com"><div></div></a></div>
<div id="I_search">
<form id="search" action="/search.do" method="get">
Search: <input name="q" size="20" class="txt"> <input type="submit" value="Go" class="btn">
</form>
</div>
<div id="I_bar">
<ul>
<li><a href="/forum/">Forum</a></li>
<li><a href="/forum/general/">General C++ Programming</a></li>
<li class="here">how make a multithread correctly synchro</li>
</ul>
</div>
<div id="I_user" class="C_LoginBox"><span title="ajax"></span></div>
</div>
</div>
<div id="I_mid">
<div id="I_wrap">
<div id="I_minheight"></div>
<div id="I_main">
<div class="C_support">
<div id='div-gpt-ad-1427191279638-0' style='width:728px; height:90px;'>
<script type='text/javascript'>
googletag.cmd.push(function() { googletag.display('div-gpt-ad-1427191279638-0'); });
</script>
</div>
</div>
<div id="I_content">
<h3><div class="C_ico default" title="post">&nbsp;</div> how make a multithread correctly synchronizated?</h3><span id="CH_edttl"></span><span class="rootdatPost" title="180668,root,0,-1,5,0"></span><div id="CH_PostList"><div class="C_forPost" id="msg886842"><span title="886842,103916,1023,517,1"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg886842" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm38fe9db9f1" title="Tue, 08 Dec 2015 14:57:07 +0000"></span><script type="text/javascript">WhenId('CH_zTm38fe9db9f1');</script><noscript>Dec 8, 2015 at 2:57pm UTC</noscript></div>
<div class="dwho"><a href="/user/Cambalinho/"><b>Cambalinho</b> (517)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i886842">
how can i make a multithread, correctly, synchronition?<br>
<br>
for make a multtihread function i must do use:<br>
pthread_create()<br>
using mutex i can synchronizate(saying the tutorials).<br>
so heres the code using multithread with parameters:<br>
<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br>46<br>47<br>48<br>49<br>50<br>51<br>52<br>53<br>54<br>55<br>56<br>57<br>58<br>59<br>60<br>61<br>62<br>63<br>64<br>65<br>66<br>67<br>68<br>69<br>70<br>71<br>72<br>73<br>74<br>75<br>76<br>77<br>78<br>79<br>80<br>81<br>82<br>83<br>84<br>85<br>86<br>87<br>88<br>89<br>90<br>91<br></code></pre></td>
<td class="source"><pre><code>  <var>struct</var> arg_readmultithread
    {
        consolewindow *consolewindowpointer=NULL;
        string *strreaded=NULL;
        <var>char</var> *chrreaded=NULL;
        <var>double</var> *dblreaded=NULL;
        string txtwrite=<kbd>""</kbd>;
    };

    arg_readmultithread arg_multiread;
    

    <var>void</var> APIDoEvents()
    {
        MSG msg;
        BOOL result;
        <var>while</var>(PeekMessage(&amp;msg, NULL, 0, 0, PM_REMOVE ))
        {
            TranslateMessage(&amp;msg);
            DispatchMessage(&amp;msg);
        }
    }

    pthread_t some_thread;
    pthread_mutex_t myMutex;

    <var>void</var> multi_read(<var>char</var> *chr, string *str, <var>double</var> *dbl)
    {
        pthread_mutex_lock(&amp;myMutex);<cite>//starts the synchronization multithread</cite>
        <var>while</var>(blnread==<var>true</var>)
        {
            APIDoEvents();
        }

        blnread=<var>true</var>;

        strreaded=str;
        dblreaded=dbl;
        ostringstream  address;
        address &lt;&lt; strreaded;
        std:string name = address.str();
        <var>static</var> <var>int</var> i=0;
        i=i+1;
        DebugText(<kbd>"on function"</kbd> + to_string(i) + <kbd>": "</kbd>+ name);
    }

    <var>static</var> <var>void</var> *multithreadproc(<var>void</var> *pThisArg)
    {
        arg_readmultithread *pThis = <var>static_cast</var>&lt;arg_readmultithread*&gt;(pThisArg);
        pThis-&gt;consolewindowpointer-&gt;multi_read(NULL,pThis-&gt;strreaded,pThis-&gt;dblreaded);
        <var>return</var> <var>nullptr</var>;<cite>//terminates the thread.. it's void*</cite>
    }



    <var>void</var> read(string &amp;txttext)
    {
        CHARFORMAT2 cf ;
        cf.cbSize = <var>sizeof</var>( CHARFORMAT2 ) ;
        cf.dwMask = CFM_COLOR | CFM_BACKCOLOR | CFM_EFFECTS2 ;
        cf.crTextColor =clrTextColor;
        cf.dwEffects =0;
        cf.crBackColor = clrTextBackColor;
        SendMessage(consoleedit, EM_SETCHARFORMAT, SCF_SELECTION, (LPARAM)&amp;cf );
        arg_multiread.consolewindowpointer=<var>this</var>;
        arg_multiread.strreaded=&amp;txttext;
        pthread_create(&amp;some_thread, <var>nullptr</var>, &amp;consolewindow::multithreadproc,<var>static_cast</var>&lt;<var>void</var>*&gt;(&amp;arg_multiread));
    }

<cite>//and when the enter key is pressed:</cite>
<var>case</var> WM_KEYUP:
            {
                <var>if</var>((wParam==VK_RETURN) &amp;&amp; (richedit-&gt;blnread==<var>true</var>))
                {
                    richedit-&gt;blnread=<var>false</var>;
                    <var>if</var>((is_number(richedit-&gt;readstring)==<var>true</var>))
                        <var>if</var>(richedit-&gt;dblreaded!=NULL)
                            *richedit-&gt;dblreaded=stod(richedit-&gt;readstring);
                    <var>else</var>
                    {
                        *richedit-&gt;dblreaded=0;

                    }
                    <var>if</var>(richedit-&gt;strreaded!=NULL) <cite>//richedit it's a richedit instance pointer object </cite>
                        *richedit-&gt;strreaded=richedit-&gt;readstring;
                    richedit-&gt;readstring=<kbd>""</kbd>;
                    richedit-&gt;strreaded=NULL;
                    pthread_mutex_unlock(&amp;richedit-&gt;myMutex);<cite>//terminates the thread</cite>
                }
            }
            <var>break</var>;</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
heres the correct output:<br>
<br>
"before read: 0x28facc<br>
before read2: 0x28fac4<br>
before read3: 0x28fac0<br>
on function1: 0x28facc<br>
on function2: 0x28fac4<br>
on function3: 0x28fac0"<br>
<br>
but sometimes:<br>
"before read: 0x28facc<br>
before read2: 0x28fac4<br>
before read3: 0x28fac0<br>
on function1: 0x28fac4"<br>
<br>
why the synchronization isn't 100%? :(
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn886842"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg886874"><span title="886874,140309,1023,149,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg886874" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmf0cdfe812a" title="Tue, 08 Dec 2015 17:28:12 +0000"></span><script type="text/javascript">WhenId('CH_zTmf0cdfe812a');</script><noscript>Dec 8, 2015 at 5:28pm UTC</noscript></div>
<div class="dwho"><a href="/user/Shadowwolf/"><b>Shadowwolf</b> (149)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i886874">
For this you need to understand exactly what a mutex is. I'll try to explain by comparing it to a door.<br>
<br>
Say you have for example one door, of which there exists one key. To go through the door, you must take the key, unlock the door and go in, only when you come back out you can put the key back and the next person can go in. That way only one person can ever go through the door at once. The key doesn't care about what person goes first, it only makes sure that one person goes through the door at once.<br>
<br>
A mutex works comparable. A thread can lock the mutex (comparable to taking the key and going trough the door). When the next thread tries to take the mutex before the other thread unlocks it, it will block until the other thread unlocks the mutex (comes out of the door and puts the key back). But there's no guarantee on what thread will lock the mutex first.<br>
<br>
So in your example, you can't tell which thread (1, 2 or 3) will enter the code first, you just know only one thread will execute the code at once. Sometimes the thread using address 0x28fac4 will be first, sometimes the thread using 0x28fac0 will go first, and sometimes the thread using 0x28facc will go first.<br>
<br>
Note that this usually isn't a problem. The only reason you will be using a mutex for will be to ensure that some code that does something that should not be done with multiple threads at once will only be used by one thread at once. The order should not be important, otherwise you wouldn't be using threads in the first place. Why use a thread when you want code to execute in a specific order? (Note that this doesn't apply everywhere, but let's ignore corner cases here).
</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTmaa71d466e2" title="Tue, 08 Dec 2015 17:29:43 +0000"></span><script type="text/javascript">WhenId('CH_zTmaa71d466e2');</script><noscript>Dec 8, 2015 at 5:29pm UTC</noscript></span>
<span class="dbtn" id="CH_btn886874"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg891958"><span title="891958,103916,1023,517,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg891958" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm61fe9f3e50" title="Tue, 29 Dec 2015 22:30:34 +0000"></span><script type="text/javascript">WhenId('CH_zTm61fe9f3e50');</script><noscript>Dec 29, 2015 at 10:30pm UTC</noscript></div>
<div class="dwho"><a href="/user/Cambalinho/"><b>Cambalinho</b> (517)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i891958">
using mutex, again, on read(), i will garantie the thread order. but i will get problems because the read() isn't multithread :(<br>
so i came up with 1 idea, that maybe will help me. imagine that i have 1 string and the string value is 1 variable adress. can i convert that value to a adress for the LPVOID accept it?
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn891958"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg892123"><span title="892123,103916,1023,517,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg892123" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm28f512c678" title="Wed, 30 Dec 2015 20:39:14 +0000"></span><script type="text/javascript">WhenId('CH_zTm28f512c678');</script><noscript>Dec 30, 2015 at 8:39pm UTC</noscript></div>
<div class="dwho"><a href="/user/Cambalinho/"><b>Cambalinho</b> (517)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i892123">
fixed:<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br>46<br>47<br>48<br>49<br>50<br>51<br>52<br>53<br>54<br>55<br>56<br>57<br>58<br>59<br>60<br>61<br>62<br>63<br>64<br>65<br>66<br>67<br>68<br>69<br>70<br>71<br>72<br>73<br>74<br>75<br>76<br>77<br>78<br>79<br>80<br>81<br>82<br>83<br>84<br>85<br>86<br>87<br>88<br>89<br>90<br>91<br>92<br>93<br>94<br>95<br>96<br>97<br>98<br>99<br>100<br>101<br>102<br>103<br>104<br>105<br>106<br>107<br>108<br>109<br>110<br>111<br>112<br>113<br>114<br>115<br>116<br>117<br>118<br>119<br>120<br>121<br>122<br>123<br>124<br>125<br>126<br>127<br>128<br>129<br>130<br>131<br>132<br>133<br>134<br>135<br>136<br>137<br>138<br>139<br>140<br>141<br>142<br>143<br>144<br>145<br>146<br>147<br>148<br>149<br>150<br>151<br>152<br>153<br>154<br>155<br>156<br>157<br>158<br>159<br></code></pre></td>
<td class="source"><pre><code><dfn>#define delay(x) _sleep(x)</dfn>
<var>class</var> Multithread
{
<var>private</var>:
    HANDLE hThread=NULL;
    DWORD dwThreadId=0;
    <var>bool</var> blnSingleThreadAtTime=<var>false</var>;
    <var>bool</var> blnCreationOrder=<var>true</var>;
    function&lt;<var>void</var>()&gt; multithreadfunction=NULL;
    function&lt;<var>void</var>(<var>const</var> LPVOID param)&gt; multithreadparameterfunction=NULL;
    HANDLE myEvent = CreateEvent(0, 0, 0, 0);
 
    <var>struct</var> mytread
    {
        Multithread *classpointer=NULL;
        LPVOID multithreadparameters=NULL;
    };
    vector&lt;mytread&gt; mtparameterthread;
 
<var>public</var>:
 
    <var>void</var> SingleThreadAtTime(<var>bool</var> SingleThread)
    {
        blnSingleThreadAtTime=SingleThread;
    }
 
    <var>bool</var> SingleThreadAtTime()
    {
        <var>return</var> blnSingleThreadAtTime;
    }
 
    <var>void</var> CreationOrder(<var>bool</var> OrderCreation)
    {
        blnCreationOrder=OrderCreation;
    }
 
    <var>bool</var> CreationOrder()
    {
        <var>return</var> blnCreationOrder;
    }
 
    <var>void</var> WaitCondition()
    {
        WaitForSingleObject(myEvent, INFINITE);
    }
 
    <var>void</var> SetCondition()
    {
        SetEvent(myEvent);
    }
 
    <var>static</var> DWORD WINAPI MyThreadFunction( <var>const</var> LPVOID lpParam )
    {
        <var>static</var> <var>bool</var> blnfirsttime=<var>false</var>;
        Multithread *pThis = <var>static_cast</var>&lt;Multithread*&gt;(lpParam);
        <var>if</var>(pThis-&gt;blnSingleThreadAtTime==<var>true</var> &amp;&amp; blnfirsttime==<var>true</var>)
            pThis-&gt;WaitCondition();
        blnfirsttime=<var>true</var>;
        pThis-&gt;multithreadfunction();
        <var>if</var>(pThis-&gt;blnSingleThreadAtTime==<var>true</var> &amp;&amp; blnfirsttime==<var>true</var>)
            pThis-&gt;SetCondition();
 
        <var>return</var> 0;
    }
 
    <var>static</var> DWORD WINAPI MyParameterThreadFunction( <var>const</var> LPVOID lpParam )
    {
        <var>static</var> <var>bool</var> blnfirsttime=<var>false</var>;
        mytread *pThis = <var>static_cast</var>&lt;mytread*&gt;(lpParam);
        <var>if</var>(pThis-&gt;classpointer-&gt;blnSingleThreadAtTime==<var>true</var> &amp;&amp; blnfirsttime==<var>true</var>)
            pThis-&gt;classpointer-&gt;WaitCondition();
        blnfirsttime=<var>true</var>;
        pThis-&gt;classpointer-&gt;multithreadparameterfunction(pThis-&gt;multithreadparameters);
        <var>if</var>(pThis-&gt;classpointer-&gt;blnSingleThreadAtTime==<var>true</var> &amp;&amp; blnfirsttime==<var>true</var>)
            pThis-&gt;classpointer-&gt;SetCondition();
        <var>return</var> 0;
    }
 
    Multithread(std::function&lt;<var>void</var>()&gt; SetFunction)
    {
        mtparameterthread.resize(100);
        multithreadfunction=SetFunction;
    }
 
    Multithread( function&lt;<var>void</var>(LPVOID)&gt; SetFunction )
    {
        mtparameterthread.resize(100);
        multithreadparameterfunction =SetFunction;
    }
 
    <cite>//corrigir</cite>
    <var>template</var>&lt;<var>typename</var> tpVariant&gt;
    Multithread( function&lt;<var>void</var>(tpVariant)&gt; SetFunction )
    {
        multithreadparameterfunction = [=]( LPVOID pv ) { SetFunction( <var>static_cast</var>&lt;tpVariant&gt;( pv ) ); };
    }
 
    <var>int</var> i=-1;
    <var>template</var>&lt;<var>typename</var> tpVariant&gt;
    <var>void</var> <var>operator</var> ()(tpVariant &amp;vrParam)
    {
        LPVOID lpParam=<var>static_cast</var>&lt;LPVOID&gt;(&amp;vrParam);
        i=i+1;
        mtparameterthread[i].classpointer=<var>this</var>;
        mtparameterthread[i].multithreadparameters=lpParam;
        DebugText(to_string(vrParam));
 
        hThread= CreateThread(
            NULL,                   <cite>// default security attributes</cite>
            0,                      <cite>// use default stack size</cite>
            Multithread::MyParameterThreadFunction,       <cite>// thread function name</cite>
            <var>static_cast</var>&lt;LPVOID&gt;(&amp;mtparameterthread[i]),          <cite>// argument to thread function</cite>
            0,                      <cite>// use default creation flags</cite>
            &amp;dwThreadId);
        <var>if</var>(i==100)
            i=-1;
        <var>if</var>(blnCreationOrder==<var>true</var>)
            delay(100);
    }
 
    <var>void</var> <var>operator</var> ()(LPVOID vrParam)
    {
        i=i+1;
        mtparameterthread[i].classpointer=<var>this</var>;
        mtparameterthread[i].multithreadparameters=vrParam;
        LPVOID lptest=<var>static_cast</var>&lt;LPVOID&gt;(&amp;mtparameterthread[i]);
        hThread= CreateThread(
            NULL,                   <cite>// default security attributes</cite>
            0,                      <cite>// use default stack size</cite>
            &amp;Multithread::MyParameterThreadFunction,       <cite>// thread function name</cite>
            lptest,          <cite>// argument to thread function</cite>
            0,                      <cite>// use default creation flags</cite>
            &amp;dwThreadId);
        <var>if</var>(i==100)
            i=-1;
        <cite>//delay for avoiding execution of all threads in same time and for not losing data because of that</cite>
        <var>if</var>(blnCreationOrder==<var>true</var>)
            delay(100);
    }
 
    <var>void</var> <var>operator</var> ()()
    {
       hThread  = CreateThread(
            NULL,                   <cite>// default security attributes</cite>
            0,                      <cite>// use default stack size</cite>
            &amp;Multithread::MyThreadFunction,       <cite>// thread function name</cite>
            <var>this</var>,          <cite>// argument to thread function</cite>
            0,                      <cite>// use default creation flags</cite>
            &amp;dwThreadId);
        <var>if</var>(blnCreationOrder==<var>true</var>)
            delay(100);
    }
 
    ~Multithread()
    {
        CloseHandle(hThread);
        CloseHandle(myEvent);
    }
};</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
how use it:<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br></code></pre></td>
<td class="source"><pre><code><cite>//these sample is on a class, that's why the 2nd brakes</cite>
Multithread mtRead{ [&amp;]( LPVOID varname)
    {
 
        string *strTest=<var>static_cast</var>&lt;string*&gt;(varname);
        blnread=<var>true</var>;
        <cite>/*
        ostringstream  address;
        address &lt;&lt; strTest;
        std:string name = address.str();
        DebugText(name);*/</cite>
        <var>while</var>(blnread==<var>true</var>)
        {
            MSG TMsg;
            <var>do</var>
            {
                <var>if</var>(blnread==<var>false</var>)
                    <var>break</var>;
                TranslateMessage(&amp;TMsg);
                <var>if</var>(blnread==<var>false</var>)
                    <var>break</var>;
                DispatchMessage(&amp;TMsg);
                <var>if</var>(blnread==<var>false</var>)
                    <var>break</var>;
            }
            <var>while</var> (PeekMessage(&amp;TMsg, 0, 0, 0, <var>true</var>) || (blnread==<var>true</var>));
        }
 
        *strTest=readstring;
        readstring=<kbd>""</kbd>;
    }};
 
<cite>//call it:</cite>
mtRead(&amp;txttext);</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
now heres cames the question:<br>
<br>
1 - why works now and the variables adress's are saved?<br>
- i'm using a vector for save the variable adress. now i can a new data without lose the last one. maybe isn't the best resize the vector to 100(because if i only need call it 10 time, the vector is consuming more memory that needs it), but, for now, it's working greate.<br>
<br>
2 - why i don't lose the new thread order?<br>
- simple after create a new thread i delay 100 milliseconds. of course using the CreationOrder(), we can change that<br>
<br>
i hope these class helps others, like is help me<br>
thanks to all
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn892123"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg892203"><span title="892203,140309,1023,149,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg892203" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm3ba9063241" title="Thu, 31 Dec 2015 10:56:05 +0000"></span><script type="text/javascript">WhenId('CH_zTm3ba9063241');</script><noscript>Dec 31, 2015 at 10:56am UTC</noscript></div>
<div class="dwho"><a href="/user/Shadowwolf/"><b>Shadowwolf</b> (149)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i892203">
Delaying the thread for a specific time doesn't guarantee to make your threads execute in a specific order. It becomes a bit more likely (one thread gets a head start), but the task scheduler of the operating system can decide to make your created thread wait for a long time when performing a system call so it can execute other threads instead. It's all up to pure luck.<br>
<br>
A better synchronization method would be to use a mutex, these are guaranteed to make one thread wait.<br>
<br>
I wouldn't be using threads if you want all your code to execute in one specific order though, this would break the entire purpose of a thread.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn892203"></span>

</div>
</div>
</div>
</div><div class="rootinsMore"></div><div class="rootbtnMore"></div><div class="rootinsNew"></div><div class="rootbtnNew"></div><div id="CH_insNew"></div><div id="CH_reply">Topic archived. No new replies allowed.</div><div id="CH_subscription"></div><div class="rootedtNew"></div><script type="text/javascript">new for_PostList(180668,1,103916,0,'CH_PostList','CH_subscription','CH_reply','CH_insNew','CH_edttl','/forum/thread.cgi','/forum/post.cgi','/forum/myposts.cgi',64,32,512,256,1024,16);</script></div>
<script type="text/javascript">
    google_ad_client = "ca-pub-1444228343479937";
    google_ad_slot = "9701143201";
    google_ad_width = 728;
    google_ad_height = 90;
</script>
<!-- leaderboard -->
<script type="text/javascript"
src="//pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div>
<div id="I_nav">
<div class="sect root">
<h3><b><a href="/">C++</a></b></h3>
<ul>
<li class="folder info"><a href="/info/">Information</a></li>
<li class="folder doc"><a href="/doc/">Tutorials</a></li>
<li class="folder reference"><a href="/reference/">Reference</a></li>
<li class="folder articles"><a href="/articles/">Articles</a></li>
<li class="folder selected forum"><a href="/forum/">Forum</a></li>
</ul>
</div>
<div class="sect">
<h3><b><a href="/forum/">Forum</a></b></h3>
<ul>
<li><a href="/forum/beginner/"><b>Beginners</b></a></li><li><a href="/forum/windows/"><b>Windows Programming</b></a></li><li><a href="/forum/unices/"><b>UNIX/Linux Programming</b></a></li><li class="selected"><a href="/forum/general/"><b>General C++ Programming</b></a></li><li><a href="/forum/lounge/"><b>Lounge</b></a></li><li><a href="/forum/jobs/"><b>Jobs</b></a></li></ul>
</div>
<div id="I_subnav"></div>
<div class="C_ad234">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-7688470879129516";
google_ad_slot = "7445514729";
google_ad_width = 234;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div></div>
<div id="I_midclear"></div>
</div>
</div>
<div id="I_bottom">
<div id="I_footer">
	<a href="/">Home page</a> | <a href="/privacy.do">Privacy policy</a><br>&copy; cplusplus.com, 2000-2016 - All rights reserved - <i>v3.1</i><br><a href="/contact.do?referrer=www.cplusplus.com%2Fforum%2Fgeneral%2F180668%2F">Spotted an error? contact us</a>
</div>
</div>

<script type="text/javascript">
<!--
function NavFor(us) {document.getElementById('I_subnav').innerHTML=us.ok?'<div class="sect"><h3><b><a href="/user/">'+us.user+'</a></b></h3><ul><li><a href="/forum/myposts.cgi">My topics</a></li></ul></div>':'';}onSession(NavFor);ready();
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-521783-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//-->
</script>

</body>
</html>