<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Not Getting Correct Output for Histogram - C++ Forum</title>
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
<link rel="stylesheet" type="text/css" href="/v321/main.css">
<script src="/v321/main.js" type="text/javascript"></script>
<script type='text/javascript'>
var googletag = googletag || {};
googletag.cmd = googletag.cmd || [];
(function() {
var gads = document.createElement('script');
gads.async = true;
gads.type = 'text/javascript';
var useSSL = 'https:' == document.location.protocol;
gads.src = (useSSL ? 'https:' : 'http:') + 
'//www.googletagservices.com/tag/js/gpt.js';
var node = document.getElementsByTagName('script')[0];
node.parentNode.insertBefore(gads, node);
})();
</script>

<script type='text/javascript'>
googletag.cmd.push(function() {
googletag.defineSlot('/32882001/L', [728, 90], 'div-gpt-ad-1427191279638-0').addService(googletag.pubads());
googletag.enableServices();
});
</script>
</head>
<body>
<div id="I_top">
<div id="I_header">
<div id="I_logo"><a href="/" title="cplusplus.com"><div></div></a></div>
<div id="I_search">
<form id="search" action="/search.do" method="get">
Search: <input name="q" size="20" class="txt"> <input type="submit" value="Go" class="btn">
</form>
</div>
<div id="I_bar">
<ul>
<li><a href="/forum/">Forum</a></li>
<li><a href="/forum/general/">General C++ Programming</a></li>
<li class="here">Not Getting Correct Output for Histogram</li>
</ul>
</div>
<div id="I_user" class="C_LoginBox"><span title="ajax"></span></div>
</div>
</div>
<div id="I_mid">
<div id="I_wrap">
<div id="I_minheight"></div>
<div id="I_main">
<div class="C_support">
<div id='div-gpt-ad-1427191279638-0' style='width:728px; height:90px;'>
<script type='text/javascript'>
googletag.cmd.push(function() { googletag.display('div-gpt-ad-1427191279638-0'); });
</script>
</div>
</div>
<div id="I_content">
<h3><div class="C_ico solved" title="solved">&nbsp;</div> Not Getting Correct Output for Histogram</h3><span id="CH_edttl"></span><span class="rootdatPost" title="185428,root,0,-1,5,0"></span><div id="CH_PostList"><div class="C_forPost" id="msg905326"><span title="905326,198985,1023,6,1"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg905326" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm38d36b8157" title="Thu, 25 Feb 2016 20:33:04 +0000"></span><script type="text/javascript">WhenId('CH_zTm38d36b8157');</script><noscript>Feb 25, 2016 at 8:33pm UTC</noscript></div>
<div class="dwho"><a href="/user/moot/"><b>moot</b> (6)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i905326">
For this assignment, I need to get grades (0 &lt; grades &lt; 100) and store them into a vector. After, I need to see how many times a certain number was entered. Then, I need to store the elements in the vector into a dynamic array. Then, I need to output the dynamic array. The problem I am having is it's not outputting the correct numbers on certain occasions.<br>
Here is the code: <br>
<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br>46<br>47<br>48<br>49<br>50<br>51<br>52<br>53<br>54<br>55<br>56<br>57<br>58<br>59<br>60<br>61<br>62<br>63<br>64<br>65<br>66<br>67<br>68<br>69<br>70<br>71<br>72<br>73<br>74<br>75<br>76<br>77<br>78<br>79<br>80<br>81<br>82<br>83<br>84<br>85<br>86<br>87<br>88<br>89<br>90<br>91<br>92<br>93<br>94<br>95<br>96<br>97<br>98<br>99<br>100<br>101<br>102<br>103<br>104<br>105<br>106<br>107<br>108<br>109<br>110<br></code></pre></td>
<td class="source"><pre><code><dfn>#include&lt;iostream&gt;</dfn>
<dfn>#include&lt;vector&gt;</dfn>
<dfn>#include&lt;algorithm&gt;</dfn>

<var>using</var> <var>namespace</var> std;

<var>void</var> getGrades(vector&lt;<var>int</var>&gt;&amp;);
<var>void</var> copyVector(vector&lt;<var>int</var>&gt;, vector&lt;<var>int</var>&gt;&amp;);
<var>void</var> deleteDuplicates(vector&lt;<var>int</var>&gt;&amp;);
<var>void</var> getCount(vector&lt;<var>int</var>&gt;, vector&lt;<var>int</var>&gt;, vector&lt;<var>int</var>&gt;&amp;);
<var>void</var> vectorToDArray(<var>int</var> [], <var>int</var>, vector&lt;<var>int</var>&gt;);
<var>void</var> printArray(<var>int</var> [], <var>int</var> [], <var>int</var>);

<var>typedef</var> <var>int</var>* IntPtr;

<var>int</var> main()
{
	vector&lt;<var>int</var>&gt; grades, gradesCopy, uniqueCount;

	getGrades(grades);
	sort(grades.begin(), grades.end()); <cite>//#include&lt;algorithm&gt;</cite>
	copyVector(grades, gradesCopy);
	deleteDuplicates(grades);
	getCount(grades, gradesCopy, uniqueCount);

	<var>int</var> size = uniqueCount.size();
	IntPtr gradeArray, countArray;
	gradeArray = <var>new</var> <var>int</var> [size];
	countArray = <var>new</var> <var>int</var> [size];

	vectorToDArray(gradeArray, size, grades);
	vectorToDArray(countArray, size, uniqueCount);
	printArray(gradeArray, countArray, size);

	<var>delete</var> [] gradeArray;
	<var>delete</var> [] countArray;

	<var>return</var> 0;
}

<cite>//will prompt the user in a do-while loop to get the grades and will end when -1 is entered</cite>
<cite>//push_back will be used to store the grades into a created vector</cite>
<var>void</var> getGrades(vector&lt;<var>int</var>&gt;&amp; grades) {

	<var>int</var> grade;

	cout &lt;&lt; <kbd>"**************************************************************************************"</kbd> &lt;&lt; endl;
	cout &lt;&lt; endl;
	cout &lt;&lt; <kbd>"               WELCOME TO THE HISTOGRAM OF STUDENT GRADES MAKER THINGY"</kbd> &lt;&lt; endl;
	cout &lt;&lt; endl;
	cout &lt;&lt; <kbd>"**************************************************************************************"</kbd> &lt;&lt; endl;
	cout &lt;&lt; endl;
	cout &lt;&lt; <kbd>"Please enter the student's grades. When you have entered a single grade, press enter. "</kbd> &lt;&lt; endl;
	cout &lt;&lt; <kbd>"When finished entering all grades, type in '-1' and then press enter. "</kbd> &lt;&lt; endl;
	cout &lt;&lt; endl;
	<var>do</var> {
		cin &gt;&gt; grade;
		<var>if</var> (grade != -1) {
			grades.push_back(grade);
		}
	} <var>while</var> (grade != -1);
}

<cite>//gets the grades with the original vectors and will use push_back</cite>
<cite>//to be put and copied into another vector</cite>
<var>void</var> copyVector(vector&lt;<var>int</var>&gt; grades, vector&lt;<var>int</var>&gt;&amp; gradesCopy) {
	<var>for</var> (<var>int</var> i = 0; i &lt; grades.size(); i++) {
		gradesCopy.push_back(grades[i]);
	}
}

<cite>//deletes the duplicates in the first vector</cite>
<cite>//needed to compare to second vector</cite>
<var>void</var> deleteDuplicates(vector&lt;<var>int</var>&gt;&amp; grades) {
	<var>for</var> (<var>int</var> i = 0; i &lt; grades.size(); i++) {
		<var>for</var> (<var>int</var> j = i + 1; j &lt; grades.size(); j++) {
			<var>if</var> (grades[i] == grades[j]) {
				grades.erase(grades.begin() + j);
			}
		}
	}
}

<cite>//compares the two vectors and when one equals the other the count goes up</cite>
<cite>//count is then pushed back to another vector to hold the count for each number</cite>
<var>void</var> getCount(vector&lt;<var>int</var>&gt; g1, vector&lt;<var>int</var>&gt; g2, vector&lt;<var>int</var>&gt;&amp; c) {
	<var>int</var> count = 0;
	<var>for</var> (<var>int</var> i = 0; i &lt; g1.size(); i++) {
		<var>for</var> (<var>int</var> j = 0; j &lt; g2.size(); j++) {
			<var>if</var> (g1[i] == g2[j]) {
				count++;
			}
		}
		c.push_back(count);
		count -= count;
	}
}

<var>void</var> vectorToDArray(<var>int</var> a[], <var>int</var> size, vector&lt;<var>int</var>&gt; v) {
	<var>for</var> (<var>int</var> i = 0; i &lt; size; i++) {
		a[i] = v[i];
	}
}

<var>void</var> printArray(<var>int</var> a[], <var>int</var> b[], <var>int</var> size) {
	<var>for</var> (<var>int</var> i = 0; i &lt; (size - 1); i++) {
		cout &lt;&lt; <kbd>"Number of "</kbd> &lt;&lt; a[i] &lt;&lt; <kbd>"'s : "</kbd> &lt;&lt; b[i] &lt;&lt; endl;
	}
}
</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
<br>
When I enter "4, 10, 20, 30, 20, 30, 30", I get: <br>
<br>
<div class="auto"><table class="snippet"><tr><td class="output"><pre><samp>
Number of 4's: 1
Number of 10's: 1
Number of 20's: 2
Number of 30's: 3
</samp></pre></td></tr></table></div><br>
<br>
but when my professor graded it, he entered in "50, 50, 40, 30, 30, 40, 40, -1".<br>
His output was:<br>
<br>
<div class="auto"><table class="snippet"><tr><td class="output"><pre><samp>
Number of 30's: 2
Number of 40's: 3
Number of 40's: 3
</samp></pre></td></tr></table></div><br>
<br>
So, I was wondering why it worked for the first input, but for the second one it didn't output the number of 50's and did the number of 40's twice.<br>
Any help would be greatly appreciated!
</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTm7bccc4c3ed" title="Thu, 25 Feb 2016 20:37:02 +0000"></span><script type="text/javascript">WhenId('CH_zTm7bccc4c3ed');</script><noscript>Feb 25, 2016 at 8:37pm UTC</noscript></span>
<span class="dbtn" id="CH_btn905326"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg905348"><span title="905348,127909,1023,2072,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg905348" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmda7cf9b1a0" title="Thu, 25 Feb 2016 22:01:18 +0000"></span><script type="text/javascript">WhenId('CH_zTmda7cf9b1a0');</script><noscript>Feb 25, 2016 at 10:01pm UTC</noscript></div>
<div class="dwho"><a href="/user/dhayden/"><b>dhayden</b> (2072)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i905348">
Your first error is in deleteDuplicates. When you delete a value, you don't want to increment j. Instead, you want to check the value at position j again because it's a different value after you erase:<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br></code></pre></td>
<td class="source"><pre><code>                <var>for</var> (size_t j = i + 1; j &lt; grades.size();) {  <cite>// no increment here</cite>
                        <var>if</var> (grades[i] == grades[j]) {
                                grades.erase(grades.begin() + j);
                        } <var>else</var> {
                            ++j;
                        }
                }</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
The second bug is in printArray. You aren't printing the last value. Line 106 should be<br>
<span class="auto"><code class="source"><var>for</var> (<var>int</var> i = 0; i &lt; <u>size</u>; i++) {</code></span><br>
<br>
I suspect that at some point, you had printArray() correct and when you ran it with your first input you got:<br>
<div class="auto"><table class="snippet"><tr><td class="output"><pre><samp>Number of 4's : 1
Number of 10's : 1
Number of 20's : 2
Number of 30's : 3
Number of 30's : 3</samp></pre></td></tr></table></div><br>
Seeing the 3 lines for Number of 30's, you probably assumed that your printing code was wrong, subtracted 1 from size and everything looked good.  Instead, you actually masked the other problem ion deleteDuplicates().  I like to call this "cooperating bugs."  Two (or more) bugs in the code that work together to produce seemingly correct results.  When you fix one bug, the results are wrong(!)  You have to fix them both.<br>
<br>
BTW, you don't need copyVector. You could have simply said <span class="auto"><code class="source">gradesCopy = grades;</code></span>
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn905348"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg905415"><span title="905415,198985,1023,6,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg905415" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm33a37ed46b" title="Fri, 26 Feb 2016 06:40:31 +0000"></span><script type="text/javascript">WhenId('CH_zTm33a37ed46b');</script><noscript>Feb 26, 2016 at 6:40am UTC</noscript></div>
<div class="dwho"><a href="/user/moot/"><b>moot</b> (6)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i905415">
@dhayden thank you so much! That fixed my problem and you were correct with my printArray problem. Thanks again.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn905415"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg905460"><span title="905460,16990,1023,3160,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg905460" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm1e57f25058" title="Fri, 26 Feb 2016 11:58:22 +0000"></span><script type="text/javascript">WhenId('CH_zTm1e57f25058');</script><noscript>Feb 26, 2016 at 11:58am UTC</noscript></div>
<div class="dwho"><a href="/user/MikeyBoy/"><b>MikeyBoy</b> (3160)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i905460">
The moral of this story is:  <b>don't just randomly do stuff until your program looks like it's working</b>.<br>
<br>
When something's not working right, you should take the effort to understand <i>why</i>.  Then you'll know the <i>right</i> thing to do to fix it, rather than making things worse by adding a second bug to the first one.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn905460"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg905464"><span title="905464,127909,1023,2072,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg905464" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm589c73c97a" title="Fri, 26 Feb 2016 12:13:14 +0000"></span><script type="text/javascript">WhenId('CH_zTm589c73c97a');</script><noscript>Feb 26, 2016 at 12:13pm UTC</noscript></div>
<div class="dwho"><a href="/user/dhayden/"><b>dhayden</b> (2072)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i905464">
+1 <b>MikeyBoy</b>.<br>
<br>
In this case, I found the bug by adding a function to print a vector&lt;int&gt; and printed the various intermediate results. This sort of test code is really useful.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn905464"></span>

</div>
</div>
</div>
</div><div class="rootinsMore"></div><div class="rootbtnMore"></div><div class="rootinsNew"></div><div class="rootbtnNew"></div><div id="CH_insNew"></div><div id="CH_reply">Registered users can post here. <a href="/user/">Sign in or register</a> to post.</div><div id="CH_subscription"></div><div class="rootedtNew"></div><script type="text/javascript">new for_PostList(185428,0,198985,1,'CH_PostList','CH_subscription','CH_reply','CH_insNew','CH_edttl','/forum/thread.cgi','/forum/post.cgi','/forum/myposts.cgi',64,32,512,256,1024,16);</script></div>
<script type="text/javascript">
    google_ad_client = "ca-pub-1444228343479937";
    google_ad_slot = "9701143201";
    google_ad_width = 728;
    google_ad_height = 90;
</script>
<!-- leaderboard -->
<script type="text/javascript"
src="//pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div>
<div id="I_nav">
<div class="sect root">
<h3><b><a href="/">C++</a></b></h3>
<ul>
<li class="folder info"><a href="/info/">Information</a></li>
<li class="folder doc"><a href="/doc/">Tutorials</a></li>
<li class="folder reference"><a href="/reference/">Reference</a></li>
<li class="folder articles"><a href="/articles/">Articles</a></li>
<li class="folder selected forum"><a href="/forum/">Forum</a></li>
</ul>
</div>
<div class="sect">
<h3><b><a href="/forum/">Forum</a></b></h3>
<ul>
<li><a href="/forum/beginner/"><b>Beginners</b></a></li><li><a href="/forum/windows/"><b>Windows Programming</b></a></li><li><a href="/forum/unices/"><b>UNIX/Linux Programming</b></a></li><li class="selected"><a href="/forum/general/"><b>General C++ Programming</b></a></li><li><a href="/forum/lounge/"><b>Lounge</b></a></li><li><a href="/forum/jobs/"><b>Jobs</b></a></li></ul>
</div>
<div id="I_subnav"></div>
<div class="C_ad234">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-7688470879129516";
google_ad_slot = "7445514729";
google_ad_width = 234;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div></div>
<div id="I_midclear"></div>
</div>
</div>
<div id="I_bottom">
<div id="I_footer">
	<a href="/">Home page</a> | <a href="/privacy.do">Privacy policy</a><br>&copy; cplusplus.com, 2000-2016 - All rights reserved - <i>v3.1</i><br><a href="/contact.do?referrer=www.cplusplus.com%2Fforum%2Fgeneral%2F185428%2F">Spotted an error? contact us</a>
</div>
</div>

<script type="text/javascript">
<!--
function NavFor(us) {document.getElementById('I_subnav').innerHTML=us.ok?'<div class="sect"><h3><b><a href="/user/">'+us.user+'</a></b></h3><ul><li><a href="/forum/myposts.cgi">My topics</a></li></ul></div>':'';}onSession(NavFor);ready();
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-521783-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//-->
</script>

</body>
</html>