<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>define  a function - C++ Forum</title>
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
<link rel="stylesheet" type="text/css" href="/v321/main.css">
<script src="/v321/main.js" type="text/javascript"></script>
<script type='text/javascript'>
var googletag = googletag || {};
googletag.cmd = googletag.cmd || [];
(function() {
var gads = document.createElement('script');
gads.async = true;
gads.type = 'text/javascript';
var useSSL = 'https:' == document.location.protocol;
gads.src = (useSSL ? 'https:' : 'http:') + 
'//www.googletagservices.com/tag/js/gpt.js';
var node = document.getElementsByTagName('script')[0];
node.parentNode.insertBefore(gads, node);
})();
</script>

<script type='text/javascript'>
googletag.cmd.push(function() {
googletag.defineSlot('/32882001/L', [728, 90], 'div-gpt-ad-1427191279638-0').addService(googletag.pubads());
googletag.enableServices();
});
</script>
</head>
<body>
<div id="I_top">
<div id="I_header">
<div id="I_logo"><a href="/" title="cplusplus.com"><div></div></a></div>
<div id="I_search">
<form id="search" action="/search.do" method="get">
Search: <input name="q" size="20" class="txt"> <input type="submit" value="Go" class="btn">
</form>
</div>
<div id="I_bar">
<ul>
<li><a href="/forum/">Forum</a></li>
<li><a href="/forum/beginner/">Beginners</a></li>
<li class="here">define  a function</li>
</ul>
</div>
<div id="I_user" class="C_LoginBox"><span title="ajax"></span></div>
</div>
</div>
<div id="I_mid">
<div id="I_wrap">
<div id="I_minheight"></div>
<div id="I_main">
<div class="C_support">
<div id='div-gpt-ad-1427191279638-0' style='width:728px; height:90px;'>
<script type='text/javascript'>
googletag.cmd.push(function() { googletag.display('div-gpt-ad-1427191279638-0'); });
</script>
</div>
</div>
<div id="I_content">
<h3><div class="C_ico default" title="post">&nbsp;</div> define  a function</h3><span id="CH_edttl"></span><span class="rootdatPost" title="185169,root,0,-1,18,0"></span><div id="CH_PostList"><div class="C_forPost" id="msg904378"><span title="904378,207927,1023,27,1"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg904378" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm87ce81deba" title="Mon, 22 Feb 2016 10:59:45 +0000"></span><script type="text/javascript">WhenId('CH_zTm87ce81deba');</script><noscript>Feb 22, 2016 at 10:59am UTC</noscript></div>
<div class="dwho"><a href="/user/alzetoun1/"><b>alzetoun1</b> (27)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i904378">
I'm trying to define the function below in the main function:<br>
<br>
<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br></code></pre></td>
<td class="source"><pre><code>  <var>float</var> distance(<var>float</var> x, <var>float</var> y, <var>float</var> pitch)
     {
      <var>float</var> r;  <cite>//local variable</cite>
      r = sqrt(x * x + y * y);
      Bangle = arctan2(pitch*(y/r) + x , pitch*(x/r) -y);
      <var>return</var> (cos(Bangle),sin(Bangle));
     }</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
I'm getting an error :  a function-definition is not allowed here before ‘{’ token<br>
     {<br>
     ^<br>
I'm not rely sure if I should write it in this way or not?!<br>
any suggestion. 
</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTm9906e5616d" title="Mon, 22 Feb 2016 11:00:25 +0000"></span><script type="text/javascript">WhenId('CH_zTm9906e5616d');</script><noscript>Feb 22, 2016 at 11:00am UTC</noscript></span>
<span class="dbtn" id="CH_btn904378"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg904381"><span title="904381,199131,1023,610,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg904381" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm74b90053c6" title="Mon, 22 Feb 2016 11:22:09 +0000"></span><script type="text/javascript">WhenId('CH_zTm74b90053c6');</script><noscript>Feb 22, 2016 at 11:22am UTC</noscript></div>
<div class="dwho"><a href="/user/Thomas1965/"><b>Thomas1965</b> (610)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i904381">
Yo cannot define a function inside another function. Common practice is to declare the prototype above main and implement it below main.<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br></code></pre></td>
<td class="source"><pre><code><cite>// Prototype</cite>
<var>float</var> distance(<var>float</var> x, <var>float</var> y, <var>float</var> pitch);

<var>int</var> main()
{
  <cite>// code here</cite>
}

<cite>// Implementation</cite>
<var>float</var> distance(<var>float</var> x, <var>float</var> y, <var>float</var> pitch)
{
  <cite>// code here</cite>
}</code></pre></td><td class="C_btnholder"></td></tr></table></div>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn904381"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg904386"><span title="904386,207927,1023,27,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg904386" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmfcd62c865b" title="Mon, 22 Feb 2016 11:42:12 +0000"></span><script type="text/javascript">WhenId('CH_zTmfcd62c865b');</script><noscript>Feb 22, 2016 at 11:42am UTC</noscript></div>
<div class="dwho"><a href="/user/alzetoun1/"><b>alzetoun1</b> (27)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i904386">
Sorry,you mean i have to write the prototype before main function.<br>
the rest in main function<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br></code></pre></td>
<td class="source"><pre><code><var>float</var> distance(<var>float</var> x, <var>float</var> y, <var>float</var> pitch);
<var>int</var> main()
{

     <var>float</var> r;  <cite>//local variable</cite>
      r = sqrt(x * x + y * y);
      Bangle = arctan2(pitch*(y/r) + x , pitch*(x/r) -y);
      <var>return</var> (cos(Bangle),sin(Bangle));
}</code></pre></td><td class="C_btnholder"></td></tr></table></div>

</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTm7875830ea8" title="Mon, 22 Feb 2016 11:46:15 +0000"></span><script type="text/javascript">WhenId('CH_zTm7875830ea8');</script><noscript>Feb 22, 2016 at 11:46am UTC</noscript></span>
<span class="dbtn" id="CH_btn904386"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg904387"><span title="904387,151681,1023,2488,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg904387" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm29bdfe9f2f" title="Mon, 22 Feb 2016 11:45:53 +0000"></span><script type="text/javascript">WhenId('CH_zTm29bdfe9f2f');</script><noscript>Feb 22, 2016 at 11:45am UTC</noscript></div>
<div class="dwho"><a href="/user/TarikNeaj/"><b>TarikNeaj</b> (2488)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i904387">
<table class="quote"><tr><td class="qd">Sorry,you mean i have to write the prototype before main function.<br>
the rest in main function</td></tr></table><br>
<br>
No, he means the prototype above main, and the function definition below main. It's clear in the code he provided is it not?
</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTm2d9ff6342f" title="Mon, 22 Feb 2016 11:46:04 +0000"></span><script type="text/javascript">WhenId('CH_zTm2d9ff6342f');</script><noscript>Feb 22, 2016 at 11:46am UTC</noscript></span>
<span class="dbtn" id="CH_btn904387"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg904388"><span title="904388,207927,1023,27,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg904388" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm6c57b00cf5" title="Mon, 22 Feb 2016 11:54:52 +0000"></span><script type="text/javascript">WhenId('CH_zTm6c57b00cf5');</script><noscript>Feb 22, 2016 at 11:54am UTC</noscript></div>
<div class="dwho"><a href="/user/alzetoun1/"><b>alzetoun1</b> (27)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i904388">
again I have to define the variables in side the main():<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br></code></pre></td>
<td class="source"><pre><code><var>float</var> r,x,y,Bangle,pitch;

arctan2 should be written in c++ as  atan2 right?
</code></pre></td><td class="C_btnholder"></td></tr></table></div>

</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTm204f7170b2" title="Mon, 22 Feb 2016 11:55:34 +0000"></span><script type="text/javascript">WhenId('CH_zTm204f7170b2');</script><noscript>Feb 22, 2016 at 11:55am UTC</noscript></span>
<span class="dbtn" id="CH_btn904388"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg904389"><span title="904389,198580,1023,108,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg904389" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm9d7fd75d51" title="Mon, 22 Feb 2016 11:57:11 +0000"></span><script type="text/javascript">WhenId('CH_zTm9d7fd75d51');</script><noscript>Feb 22, 2016 at 11:57am UTC</noscript></div>
<div class="dwho"><a href="/user/jgg2002/"><b>jgg2002</b> (108)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i904389">
There's a problem in your <span class="auto"><code class="source"> <var>return</var> </code></span><br>
From what I understand you've already got a cos() and sin() function, so there's no problem with that. But in your return you have<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>&nbsp;</code></pre></td>
<td class="source"><pre><code><var>return</var> (cos(Bagle), sin(Bagle));</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
But you only return 2 arguments, whereas distance() needs 3. It  should be like this:<br>
<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>&nbsp;</code></pre></td>
<td class="source"><pre><code><var>return</var> (cos(Bagle), sin(Bagle), pitch);</code></pre></td><td class="C_btnholder"></td></tr></table></div>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn904389"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg904390"><span title="904390,207927,1023,27,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg904390" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmdf075fa887" title="Mon, 22 Feb 2016 12:08:52 +0000"></span><script type="text/javascript">WhenId('CH_zTmdf075fa887');</script><noscript>Feb 22, 2016 at 12:08pm UTC</noscript></div>
<div class="dwho"><a href="/user/alzetoun1/"><b>alzetoun1</b> (27)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i904390">
in this case after edited what you told me like this:<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br></code></pre></td>
<td class="source"><pre><code><var>float</var> distance(<var>float</var> x, <var>float</var> y, <var>float</var> pitch);
<var>int</var> main()
{

     <var>float</var> r;  <cite>//local variable</cite>
      r = sqrt(x * x + y * y);
      Bangle = arctan2(pitch*(y/r) + x , pitch*(x/r) -y);
      <var>return</var> (cos(Bangle),sin(Bangle),pitch);
}
</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
now i can use the value : Bangle in another part of my code?!
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn904390"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg904392"><span title="904392,16990,1023,3160,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg904392" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm1a2006ff27" title="Mon, 22 Feb 2016 12:13:28 +0000"></span><script type="text/javascript">WhenId('CH_zTm1a2006ff27');</script><noscript>Feb 22, 2016 at 12:13pm UTC</noscript></div>
<div class="dwho"><a href="/user/MikeyBoy/"><b>MikeyBoy</b> (3160)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i904392">
Wait, what are you trying to return there?  You've defined your <b>main</b> function to return an int (as all <b>main</b> functions must do).  So why are you trying to return a float?<br>
<br>
Also, why are you using the comma operator on line 8 there?  Do you understand what the comma operator actually does in C++?
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn904392"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg904395"><span title="904395,207927,1023,27,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg904395" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm42858d4dcd" title="Mon, 22 Feb 2016 12:37:44 +0000"></span><script type="text/javascript">WhenId('CH_zTm42858d4dcd');</script><noscript>Feb 22, 2016 at 12:37pm UTC</noscript></div>
<div class="dwho"><a href="/user/alzetoun1/"><b>alzetoun1</b> (27)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i904395">
I don't know, you mean the x,y, pitch should be int.<br>
I don't know what dose the comma means?!<br>
<br>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn904395"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg904402"><span title="904402,94088,1023,5090,-1"></span>
<div class="box reported">
<div class="boxtop">
<div class="dwhen"><a href="#msg904402" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm57f0b79358" title="Mon, 22 Feb 2016 13:04:29 +0000"></span><script type="text/javascript">WhenId('CH_zTm57f0b79358');</script><noscript>Feb 22, 2016 at 1:04pm UTC</noscript></div>
<div class="dwho"><a href="/user/Chervil/"><b>Chervil</b> (5090)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i904402">
The comma operator means each term in the expression is evaluated. Then the final value of the entire expression is simply the part after the <b>last</b> comma (the rest is ignored).<br>
<br>
I'm trying to understand the meaning of 'pitch' in the function<br>
<span class="auto"><code class="source"><var>float</var> distance(<var>float</var> x, <var>float</var> y, <var>float</var> pitch)</code></span><br>
In terms of geometry I assume x and y represent a 2-D coordinate. But what would pitch mean?
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn904402"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg904429"><span title="904429,207927,1023,27,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg904429" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm00674a497f" title="Mon, 22 Feb 2016 15:35:50 +0000"></span><script type="text/javascript">WhenId('CH_zTm00674a497f');</script><noscript>Feb 22, 2016 at 3:35pm UTC</noscript></div>
<div class="dwho"><a href="/user/alzetoun1/"><b>alzetoun1</b> (27)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i904429">
you can ignore the pitch value( its a constant ) we can ignore it from our calculation, the new version look like this:<br>
<br>
<br>
 <div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br></code></pre></td>
<td class="source"><pre><code>
<var>float</var> distance(<var>float</var> x, <var>float</var> y);
<var>int</var> main()
{

     <var>float</var> r;  <cite>//local variable</cite>
      r = sqrt(x * x + y * y);
      Bangle = arctan2((y/r) + x ,(x/r) -y);
      <var>return</var> (cos(Bangle),sin(Bangle));
}</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
<br>
this definition to use the value of cos(Bangle) and sin(Bangle)  in the  return  
</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTm6d0cd9cd7f" title="Mon, 22 Feb 2016 15:37:26 +0000"></span><script type="text/javascript">WhenId('CH_zTm6d0cd9cd7f');</script><noscript>Feb 22, 2016 at 3:37pm UTC</noscript></span>
<span class="dbtn" id="CH_btn904429"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg904430"><span title="904430,94088,1023,5090,-1"></span>
<div class="box reported">
<div class="boxtop">
<div class="dwhen"><a href="#msg904430" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmb146e72dda" title="Mon, 22 Feb 2016 15:54:08 +0000"></span><script type="text/javascript">WhenId('CH_zTmb146e72dda');</script><noscript>Feb 22, 2016 at 3:54pm UTC</noscript></div>
<div class="dwho"><a href="/user/Chervil/"><b>Chervil</b> (5090)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i904430">
Ok thanks for the clarification.<br>
<br>
You code has the definition of the function inside main(). It should be inside the body of the function itself, as in the example given by <b>Thomas1965</b> above. Note the name of the arctangent function is <span class="auto"><code class="source">atan2()</code></span> as previously mentioned.<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br></code></pre></td>
<td class="source"><pre><code><var>float</var> distance(<var>float</var> x, <var>float</var> y);  <cite>// function prototype declaration</cite>

<var>int</var> main()
{
    <var>float</var> d = distance(3, 4);      <cite>// example function call</cite>
    
}

<var>float</var> distance(<var>float</var> x, <var>float</var> y)   <cite>// function definition</cite>
{
    <var>float</var> r = sqrt(x * x + y * y);
    <var>double</var> Bangle = atan2((y/r) + x ,(x/r) -y);
    <var>double</var> c = cos(Bangle);
    <var>double</var> s = sin(Bangle);
    <var>return</var> ????   <cite>// I don't know what goes here.</cite>
}</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
<br>
See tutorial on comma operator here:<br>
<a href="http://www.cplusplus.com/doc/tutorial/operators/">http://www.cplusplus.com/doc/tutorial/operators/</a><br>
<br>
names of trig functions detailed here:<br>
<a href="http://www.cplusplus.com/reference/cmath/">http://www.cplusplus.com/reference/cmath/</a><br>
<br>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn904430"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg904930"><span title="904930,207927,1023,27,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg904930" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmee93e92854" title="Wed, 24 Feb 2016 09:03:18 +0000"></span><script type="text/javascript">WhenId('CH_zTmee93e92854');</script><noscript>Feb 24, 2016 at 9:03am UTC</noscript></div>
<div class="dwho"><a href="/user/alzetoun1/"><b>alzetoun1</b> (27)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i904930">
@Chervil<br>
 I need to ask you private question, according to last discussion last month?
</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTm5ad253066c" title="Wed, 24 Feb 2016 09:05:47 +0000"></span><script type="text/javascript">WhenId('CH_zTm5ad253066c');</script><noscript>Feb 24, 2016 at 9:05am UTC</noscript></span>
<span class="dbtn" id="CH_btn904930"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg904951"><span title="904951,94088,1023,5090,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg904951" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmd1ff5389fa" title="Wed, 24 Feb 2016 11:49:37 +0000"></span><script type="text/javascript">WhenId('CH_zTmd1ff5389fa');</script><noscript>Feb 24, 2016 at 11:49am UTC</noscript></div>
<div class="dwho"><a href="/user/Chervil/"><b>Chervil</b> (5090)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i904951">
Please feel free to ask any question in the forum. My responses are no better and no worse whether in public or private. But in public, the whole forum community both benefits and is able to contribute.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn904951"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg904957"><span title="904957,207927,1023,27,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg904957" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm2a11738ff1" title="Wed, 24 Feb 2016 12:31:33 +0000"></span><script type="text/javascript">WhenId('CH_zTm2a11738ff1');</script><noscript>Feb 24, 2016 at 12:31pm UTC</noscript></div>
<div class="dwho"><a href="/user/alzetoun1/"><b>alzetoun1</b> (27)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i904957">
@chervil<br>
Okay , the point is if you still  remember you helped me to rewrite python code to c++ last month. I want to add the function above into it (the form above I wrote it similar to python syntax).  I don't understand all the part of the code you have written <br>
  
</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTm0093c8633d" title="Wed, 24 Feb 2016 12:45:31 +0000"></span><script type="text/javascript">WhenId('CH_zTm0093c8633d');</script><noscript>Feb 24, 2016 at 12:45pm UTC</noscript></span>
<span class="dbtn" id="CH_btn904957"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg904962"><span title="904962,94088,1023,5090,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg904962" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm05fffca6ad" title="Wed, 24 Feb 2016 12:59:45 +0000"></span><script type="text/javascript">WhenId('CH_zTm05fffca6ad');</script><noscript>Feb 24, 2016 at 12:59pm UTC</noscript></div>
<div class="dwho"><a href="/user/Chervil/"><b>Chervil</b> (5090)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i904962">
Thanks for the clarification. I'm looking into it.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn904962"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg904964"><span title="904964,207927,1023,27,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg904964" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm30017c55bc" title="Wed, 24 Feb 2016 13:07:39 +0000"></span><script type="text/javascript">WhenId('CH_zTm30017c55bc');</script><noscript>Feb 24, 2016 at 1:07pm UTC</noscript></div>
<div class="dwho"><a href="/user/alzetoun1/"><b>alzetoun1</b> (27)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i904964">
@ chervil<br>
I post the code her to see what I have deleted/replace with this new function:<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br>46<br>47<br>48<br></code></pre></td>
<td class="source"><pre><code>
T=100 
N=10000
dt=<var>float</var>(T)/N 

D= 1 
DII=10

def Bfield(x,y,pitch): <dfn>#pitch value in for loop is const.  </dfn>
  r = np.sqrt(x**2. + y**2.)
  Bangle =np.arctan2 (pitch*(y/r) + x, pitch*(x/r) -y)
  <var>return</var> [np.cos(Bangle), np.sin(Bangle)]

n= 1000
seed(2)
finalpositions=[]

<var>for</var> number in range(0, 100):
  
  finalpositions.append([])
  x=[]
  y=[]
  x.append(10.) 
  y.append(0.)<dfn>#0 or 20 for example , to check if the diffusion is isotropic or anisotropic</dfn>

  <var>for</var> i in range(n):
      <dfn>#localB = Bfield(x[-1],y[-1])</dfn>
      localB = Bfield(x[-1],y[-1],0.8)

      s = np.random.normal(0, 1, 2) 
      deltaX= localB[0]*np.sqrt(2*DII*dt)*s[0] - localB[1]*np.sqrt(2*D*dt)*s[1]	  
      deltaY= localB[1]*np.sqrt(2*DII*dt)*s[0] + localB[0]*np.sqrt(2*D*dt)*s[1]
      x.append(x[-1] + deltaX)
      y.append(y[-1] + deltaY)
  finalpositions[-1].append(x)
  finalpositions[-1].append(y)


allxes = [] 
allyes = []


<var>for</var> p in finalpositions:
  allxes.append(p[0][-1])
  allyes.append(p[1][-1])<dfn># </dfn>
 
p1, = plt.plot(allxes, allyes, <kbd>'o'</kbd>) <kbd>'
 </kbd></code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>

</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTm1d435b1e65" title="Wed, 24 Feb 2016 13:11:28 +0000"></span><script type="text/javascript">WhenId('CH_zTm1d435b1e65');</script><noscript>Feb 24, 2016 at 1:11pm UTC</noscript></span>
<span class="dbtn" id="CH_btn904964"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg905456"><span title="905456,94088,1023,5090,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg905456" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm1f2a55d118" title="Fri, 26 Feb 2016 11:33:11 +0000"></span><script type="text/javascript">WhenId('CH_zTm1f2a55d118');</script><noscript>Feb 26, 2016 at 11:33am UTC</noscript></div>
<div class="dwho"><a href="/user/Chervil/"><b>Chervil</b> (5090)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i905456">
Based on offline discussion as well as previous related questions, this is what I'd suggest:<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br></code></pre></td>
<td class="source"><pre><code><var>void</var> distance( <var>double</var> x, <var>double</var> y, <var>double</var> pitch, <var>double</var> result[2] )
{
    <var>double</var> r = sqrt(x * x + y * y);
    <var>double</var> Bangle = atan2(pitch*(y/r) + x, pitch*(x/r) - y);
    result[0] = cos(Bangle);
    result[1] = sin(Bangle);
}</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
<br>
<br>
To call the function, define an array which will hold the result<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>&nbsp;</code></pre></td>
<td class="source"><pre><code>    <var>double</var> b[2];    <cite>// result will be stored here </cite></code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
<br>
and call the function as required<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>&nbsp;</code></pre></td>
<td class="source"><pre><code>    distance(x, y, pitch, b);    <cite>// call the function  </cite></code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn905456"></span>

</div>
</div>
</div>
</div><div class="rootinsMore"></div><div class="rootbtnMore"></div><div class="rootinsNew"></div><div class="rootbtnNew"></div><div id="CH_insNew"></div><div id="CH_reply">Registered users can post here. <a href="/user/">Sign in or register</a> to post.</div><div id="CH_subscription"></div><div class="rootedtNew"></div><script type="text/javascript">new for_PostList(185169,0,207927,0,'CH_PostList','CH_subscription','CH_reply','CH_insNew','CH_edttl','/forum/thread.cgi','/forum/post.cgi','/forum/myposts.cgi',64,32,512,256,1024,16);</script></div>
<script type="text/javascript">
    google_ad_client = "ca-pub-1444228343479937";
    google_ad_slot = "9701143201";
    google_ad_width = 728;
    google_ad_height = 90;
</script>
<!-- leaderboard -->
<script type="text/javascript"
src="//pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div>
<div id="I_nav">
<div class="sect root">
<h3><b><a href="/">C++</a></b></h3>
<ul>
<li class="folder info"><a href="/info/">Information</a></li>
<li class="folder doc"><a href="/doc/">Tutorials</a></li>
<li class="folder reference"><a href="/reference/">Reference</a></li>
<li class="folder articles"><a href="/articles/">Articles</a></li>
<li class="folder selected forum"><a href="/forum/">Forum</a></li>
</ul>
</div>
<div class="sect">
<h3><b><a href="/forum/">Forum</a></b></h3>
<ul>
<li class="selected"><a href="/forum/beginner/"><b>Beginners</b></a></li><li><a href="/forum/windows/"><b>Windows Programming</b></a></li><li><a href="/forum/unices/"><b>UNIX/Linux Programming</b></a></li><li><a href="/forum/general/"><b>General C++ Programming</b></a></li><li><a href="/forum/lounge/"><b>Lounge</b></a></li><li><a href="/forum/jobs/"><b>Jobs</b></a></li></ul>
</div>
<div id="I_subnav"></div>
<div class="C_ad234">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-7688470879129516";
google_ad_slot = "7445514729";
google_ad_width = 234;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div></div>
<div id="I_midclear"></div>
</div>
</div>
<div id="I_bottom">
<div id="I_footer">
	<a href="/">Home page</a> | <a href="/privacy.do">Privacy policy</a><br>&copy; cplusplus.com, 2000-2016 - All rights reserved - <i>v3.1</i><br><a href="/contact.do?referrer=www.cplusplus.com%2Fforum%2Fbeginner%2F185169%2F">Spotted an error? contact us</a>
</div>
</div>

<script type="text/javascript">
<!--
function NavFor(us) {document.getElementById('I_subnav').innerHTML=us.ok?'<div class="sect"><h3><b><a href="/user/">'+us.user+'</a></b></h3><ul><li><a href="/forum/myposts.cgi">My topics</a></li></ul></div>':'';}onSession(NavFor);ready();
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-521783-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//-->
</script>

</body>
</html>