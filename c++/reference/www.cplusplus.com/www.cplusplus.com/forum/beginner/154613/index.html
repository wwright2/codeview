<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>count the occurrence of letters in the s - C++ Forum</title>
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
<link rel="stylesheet" type="text/css" href="/v321/main.css">
<script src="/v321/main.js" type="text/javascript"></script>
<script type='text/javascript'>
var googletag = googletag || {};
googletag.cmd = googletag.cmd || [];
(function() {
var gads = document.createElement('script');
gads.async = true;
gads.type = 'text/javascript';
var useSSL = 'https:' == document.location.protocol;
gads.src = (useSSL ? 'https:' : 'http:') + 
'//www.googletagservices.com/tag/js/gpt.js';
var node = document.getElementsByTagName('script')[0];
node.parentNode.insertBefore(gads, node);
})();
</script>

<script type='text/javascript'>
googletag.cmd.push(function() {
googletag.defineSlot('/32882001/L', [728, 90], 'div-gpt-ad-1427191279638-0').addService(googletag.pubads());
googletag.enableServices();
});
</script>
</head>
<body>
<div id="I_top">
<div id="I_header">
<div id="I_logo"><a href="/" title="cplusplus.com"><div></div></a></div>
<div id="I_search">
<form id="search" action="/search.do" method="get">
Search: <input name="q" size="20" class="txt"> <input type="submit" value="Go" class="btn">
</form>
</div>
<div id="I_bar">
<ul>
<li><a href="/forum/">Forum</a></li>
<li><a href="/forum/beginner/">Beginners</a></li>
<li class="here">count the occurrence of letters in the s</li>
</ul>
</div>
<div id="I_user" class="C_LoginBox"><span title="ajax"></span></div>
</div>
</div>
<div id="I_mid">
<div id="I_wrap">
<div id="I_minheight"></div>
<div id="I_main">
<div class="C_support">
<div id='div-gpt-ad-1427191279638-0' style='width:728px; height:90px;'>
<script type='text/javascript'>
googletag.cmd.push(function() { googletag.display('div-gpt-ad-1427191279638-0'); });
</script>
</div>
</div>
<div id="I_content">
<h3><div class="C_ico question" title="question">&nbsp;</div> count the occurrence of letters in the string</h3><span id="CH_edttl"></span><span class="rootdatPost" title="154613,root,0,-1,5,0"></span><div id="CH_PostList"><div class="C_forPost" id="msg798687"><span title="798687,165323,255,3,1"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg798687" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmbe048fd64a" title="Tue, 27 Jan 2015 17:13:51 +0000"></span><script type="text/javascript">WhenId('CH_zTmbe048fd64a');</script><noscript>Jan 27, 2015 at 5:13pm UTC</noscript></div>
<div class="dwho"><a href="/user/Asim1589/"><b>Asim1589</b> (3)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i798687">
this code is printing strange numbers instead of the number of characters in the input string<br>
<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br></code></pre></td>
<td class="source"><pre><code>  <dfn>#include&lt;iostream&gt;</dfn>
<dfn>#include&lt;string&gt;</dfn>
<dfn>#include&lt;cctype&gt;</dfn>

<var>using</var> <var>namespace</var> std;

<var>int</var> main()
{
    <var>int</var> counts[26]; <var>int</var> size=0, k;
    string s;
    cout &lt;&lt;<kbd>"Enter a string "</kbd> ;
    getline(cin,s);
    <var>for</var>(<var>int</var> i=0; i&lt;s.length(); i++)
    {
            s[i]= tolower(s[i]);
    }   
    <var>for</var>(<var>int</var> i=0; i&lt;26; i++)
    {
    
            <var>for</var>(<var>int</var> j=0; j&lt;s.length(); j++)
            {
                    <var>if</var>(<var>static_cast</var>&lt;<var>char</var>&gt;(i+ <kbd>'a'</kbd>) == s[j])
                    {
                         k++;
                    }
            }
            <var>if</var>(k != 0)
            {
                      counts[size]=k;
                      size++;
            }
     }
     <var>for</var>(<var>int</var> i=0; i&lt;s.length(); i++)
     {
           cout &lt;&lt; s[i] &lt;&lt;<kbd>" : "</kbd> &lt;&lt; counts[i]&lt;&lt;endl;
     }
system(<kbd>"pause"</kbd>);
}


</code></pre></td><td class="C_btnholder"></td></tr></table></div>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn798687"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg798696"><span title="798696,21946,1023,948,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg798696" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm7bf942c125" title="Tue, 27 Jan 2015 17:42:06 +0000"></span><script type="text/javascript">WhenId('CH_zTm7bf942c125');</script><noscript>Jan 27, 2015 at 5:42pm UTC</noscript></div>
<div class="dwho"><a href="/user/Null/"><b>Null</b> (948)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i798696">
just set k=0 before doing any calculations. Since the variable is not initialized, it contains an undefined value.<br>
<span class="auto"><code class="source">  <var>int</var> counts[26]; <var>int</var> size=0, k=0; <cite>//will work </cite></code></span>
</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTm285b2c7a97" title="Tue, 27 Jan 2015 17:43:41 +0000"></span><script type="text/javascript">WhenId('CH_zTm285b2c7a97');</script><noscript>Jan 27, 2015 at 5:43pm UTC</noscript></span>
<span class="dbtn" id="CH_btn798696"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg798712"><span title="798712,165323,255,3,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg798712" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm52490d11ac" title="Tue, 27 Jan 2015 19:03:56 +0000"></span><script type="text/javascript">WhenId('CH_zTm52490d11ac');</script><noscript>Jan 27, 2015 at 7:03pm UTC</noscript></div>
<div class="dwho"><a href="/user/Asim1589/"><b>Asim1589</b> (3)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i798712">
ok, now my code looks like this, but still strange numbers:<br>
<br>
#include&lt;iostream&gt;<br>
#include&lt;string&gt;<br>
#include&lt;cctype&gt;<br>
<br>
using namespace std;<br>
<br>
int main()<br>
{<br>
    int counts[26]; int size=0, k;<br>
    string s,m;<br>
    cout &lt;&lt;"Enter a string " ;<br>
    getline(cin,s);<br>
    for(int i=0; i&lt;s.length(); i++)<br>
    {<br>
            s[i]= tolower(s[i]);<br>
    }   <br>
    for(int i=0; i&lt;26; i++)<br>
    {<br>
             int k=0;<br>
            for(int j=0; j&lt;s.length(); j++)<br>
            {<br>
                    if(static_cast&lt;char&gt;(i+ 'a') == s[j])<br>
                    {<br>
                         k++;<br>
                    }<br>
            }<br>
            if(k != 0)<br>
            {<br>
                      counts[size]=k;<br>
                      size++;<br>
            }<br>
     }<br>
     for(int i=0; i&lt;s.length(); i++)<br>
     {<br>
           cout &lt;&lt; static_cast&lt;char&gt;(s[i])&lt;&lt; " : " &lt;&lt;counts[i]&lt;&lt;endl;<br>
     }<br>
system("pause");<br>
}<br>
<br>
<br>
the output that i am getting is:<br>
<br>
Enter a string welcome to hell<br>
w : 1<br>
e : 3<br>
l : 1<br>
c : 3<br>
o : 1<br>
m : 2<br>
e : 1<br>
  : 1<br>
t : 1507312750<br>
o : -2<br>
  : 1995550201<br>
h : 1995550275<br>
e : 2686672<br>
l : 2<br>
l : 2686916<br>
Press any key to continue . . .
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn798712"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg798768"><span title="798768,78419,1023,7174,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg798768" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm2e0ea6ab72" title="Wed, 28 Jan 2015 01:03:14 +0000"></span><script type="text/javascript">WhenId('CH_zTm2e0ea6ab72');</script><noscript>Jan 28, 2015 at 1:03am UTC</noscript></div>
<div class="dwho"><a href="/user/cire/"><b>cire</b> (7174)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i798768">
You're doing a couple things wrong:  <br>
<br>
First, get rid of the variable <tt>size</tt> which serves no purpose in your program other than to make you think you're doing something you aren't.<br>
<br>
Second, in the final loop <tt>s[i]</tt> has no relation to <tt>counts[i]</tt>.<br>
<br>
Third, you only handle characters in the alphabet correctly and your input includes spaces which are not handled correctly.<br>
<br>
You should consider breaking your code up into functions.<br>
<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br>46<br>47<br>48<br>49<br>50<br>51<br>52<br>53<br>54<br>55<br>56<br>57<br></code></pre></td>
<td class="source"><pre><code><cite>// <a href="http://ideone.com/tkF9oH">http://ideone.com/tkF9oH</a></cite>
<dfn>#include&lt;iostream&gt;</dfn>
<dfn>#include&lt;string&gt;</dfn>
<dfn>#include&lt;cctype&gt;</dfn>

std::string to_lower(std::string s)
{
    std::string result;
    <var>for</var> (<var>auto</var> ch : s)
        result += std::tolower(ch);
    <var>return</var> result;
}

std::string clean(std::string s)
{
    std::string result;
    <var>for</var> (<var>auto</var> ch : s)
        <var>if</var> (isalpha(ch))
            result += ch;

    <var>return</var> result;
}

std::string process(std::string s)
{
    <var>return</var> to_lower(clean(s));
}

<var>unsigned</var> as_index(<var>char</var> ch)
{
    <var>return</var> ch - <kbd>'a'</kbd>;
}

std::string get_line(std::string prompt)
{
    std::string line;

    std::cout &lt;&lt; prompt;
    std::getline(std::cin, line);
 
    <var>return</var> line;
}

<var>int</var> main()
{
    <var>const</var> <var>unsigned</var> counts_size = 26;
    <var>int</var> counts[counts_size] = {};    <cite>// initialize all elements to 0.</cite>

    std::string raw_text = get_line(<kbd>"Enter a string:\n&gt; "</kbd>);
    std::string text = process(raw_text);

    <var>for</var> (<var>unsigned</var> i = 0; i &lt; text.length(); ++i)
        ++counts[ as_index(text[i]) ];

    <var>for</var> (<var>unsigned</var> i = 0; i &lt; text.length(); ++i)
        std::cout &lt;&lt; text[i] &lt;&lt; <kbd>": "</kbd> &lt;&lt; counts[ as_index(text[i]) ] &lt;&lt; <kbd>'\n'</kbd>;
}</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
<br>

</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTm76c72c4d56" title="Wed, 28 Jan 2015 01:06:39 +0000"></span><script type="text/javascript">WhenId('CH_zTm76c72c4d56');</script><noscript>Jan 28, 2015 at 1:06am UTC</noscript></span>
<span class="dbtn" id="CH_btn798768"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg799039"><span title="799039,165323,255,3,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg799039" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmfa557c4d97" title="Wed, 28 Jan 2015 19:53:27 +0000"></span><script type="text/javascript">WhenId('CH_zTmfa557c4d97');</script><noscript>Jan 28, 2015 at 7:53pm UTC</noscript></div>
<div class="dwho"><a href="/user/Asim1589/"><b>Asim1589</b> (3)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i799039">
Thanks cire! i was able to figure this out
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn799039"></span>

</div>
</div>
</div>
</div><div class="rootinsMore"></div><div class="rootbtnMore"></div><div class="rootinsNew"></div><div class="rootbtnNew"></div><div id="CH_insNew"></div><div id="CH_reply">Topic archived. No new replies allowed.</div><div id="CH_subscription"></div><div class="rootedtNew"></div><script type="text/javascript">new for_PostList(154613,1,165323,0,'CH_PostList','CH_subscription','CH_reply','CH_insNew','CH_edttl','/forum/thread.cgi','/forum/post.cgi','/forum/myposts.cgi',64,32,512,256,1024,16);</script></div>
<script type="text/javascript">
    google_ad_client = "ca-pub-1444228343479937";
    google_ad_slot = "9701143201";
    google_ad_width = 728;
    google_ad_height = 90;
</script>
<!-- leaderboard -->
<script type="text/javascript"
src="//pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div>
<div id="I_nav">
<div class="sect root">
<h3><b><a href="/">C++</a></b></h3>
<ul>
<li class="folder info"><a href="/info/">Information</a></li>
<li class="folder doc"><a href="/doc/">Tutorials</a></li>
<li class="folder reference"><a href="/reference/">Reference</a></li>
<li class="folder articles"><a href="/articles/">Articles</a></li>
<li class="folder selected forum"><a href="/forum/">Forum</a></li>
</ul>
</div>
<div class="sect">
<h3><b><a href="/forum/">Forum</a></b></h3>
<ul>
<li class="selected"><a href="/forum/beginner/"><b>Beginners</b></a></li><li><a href="/forum/windows/"><b>Windows Programming</b></a></li><li><a href="/forum/unices/"><b>UNIX/Linux Programming</b></a></li><li><a href="/forum/general/"><b>General C++ Programming</b></a></li><li><a href="/forum/lounge/"><b>Lounge</b></a></li><li><a href="/forum/jobs/"><b>Jobs</b></a></li></ul>
</div>
<div id="I_subnav"></div>
<div class="C_ad234">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-7688470879129516";
google_ad_slot = "7445514729";
google_ad_width = 234;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div></div>
<div id="I_midclear"></div>
</div>
</div>
<div id="I_bottom">
<div id="I_footer">
	<a href="/">Home page</a> | <a href="/privacy.do">Privacy policy</a><br>&copy; cplusplus.com, 2000-2016 - All rights reserved - <i>v3.1</i><br><a href="/contact.do?referrer=www.cplusplus.com%2Fforum%2Fbeginner%2F154613%2F">Spotted an error? contact us</a>
</div>
</div>

<script type="text/javascript">
<!--
function NavFor(us) {document.getElementById('I_subnav').innerHTML=us.ok?'<div class="sect"><h3><b><a href="/user/">'+us.user+'</a></b></h3><ul><li><a href="/forum/myposts.cgi">My topics</a></li></ul></div>':'';}onSession(NavFor);ready();
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-521783-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//-->
</script>

</body>
</html>