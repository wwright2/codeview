<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Optimal method to store string with spac - C++ Forum</title>
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
<link rel="stylesheet" type="text/css" href="/v321/main.css">
<script src="/v321/main.js" type="text/javascript"></script>
<script type='text/javascript'>
var googletag = googletag || {};
googletag.cmd = googletag.cmd || [];
(function() {
var gads = document.createElement('script');
gads.async = true;
gads.type = 'text/javascript';
var useSSL = 'https:' == document.location.protocol;
gads.src = (useSSL ? 'https:' : 'http:') + 
'//www.googletagservices.com/tag/js/gpt.js';
var node = document.getElementsByTagName('script')[0];
node.parentNode.insertBefore(gads, node);
})();
</script>

<script type='text/javascript'>
googletag.cmd.push(function() {
googletag.defineSlot('/32882001/L', [728, 90], 'div-gpt-ad-1427191279638-0').addService(googletag.pubads());
googletag.enableServices();
});
</script>
</head>
<body>
<div id="I_top">
<div id="I_header">
<div id="I_logo"><a href="/" title="cplusplus.com"><div></div></a></div>
<div id="I_search">
<form id="search" action="/search.do" method="get">
Search: <input name="q" size="20" class="txt"> <input type="submit" value="Go" class="btn">
</form>
</div>
<div id="I_bar">
<ul>
<li><a href="/forum/">Forum</a></li>
<li><a href="/forum/beginner/">Beginners</a></li>
<li class="here">Optimal method to store string with spac</li>
</ul>
</div>
<div id="I_user" class="C_LoginBox"><span title="ajax"></span></div>
</div>
</div>
<div id="I_mid">
<div id="I_wrap">
<div id="I_minheight"></div>
<div id="I_main">
<div class="C_support">
<div id='div-gpt-ad-1427191279638-0' style='width:728px; height:90px;'>
<script type='text/javascript'>
googletag.cmd.push(function() { googletag.display('div-gpt-ad-1427191279638-0'); });
</script>
</div>
</div>
<div id="I_content">
<h3><div class="C_ico default" title="post">&nbsp;</div> Optimal method to store string with spaces </h3><span id="CH_edttl"></span><span class="rootdatPost" title="181655,root,0,-1,19,0"></span><div id="CH_PostList"><div class="C_forPost" id="msg890922"><span title="890922,204670,1023,7,1"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg890922" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm59193eea56" title="Tue, 22 Dec 2015 23:02:03 +0000"></span><script type="text/javascript">WhenId('CH_zTm59193eea56');</script><noscript>Dec 22, 2015 at 11:02pm UTC</noscript></div>
<div class="dwho"><a href="/user/ryanjamesdeveloper/"><b>ryanjamesdeveloper</b> (7)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i890922">
I'm trying to read from a file that has several records within it.  For instance... one line will include: school name, year, term, course name, etc. which is built from a struct. <br>
<br>
I am trying to place one entire record in one index of an array. For example, in an theoretical array with 3 elements and "record" is the dataType of the struct and "myRecord" is the identifier:<br>
<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br></code></pre></td>
<td class="source"><pre><code><dfn>#include&lt;iostream&gt;</dfn>
<dfn>#include&lt;string&gt;</dfn>
 
<var>using</var> <var>namespace</var> std;

<var>struct</var> record {

string schoolName, term, courseName;
<var>int</var> year;

};

<var>int</var> main() {

record myRecord[3];

myRecord[0] = City College, 2014, Fall, Biology;
myRecord[1] = City College, 2014, Fall, Trigonometry;
myRecord[2] = State College, 2015, Spring, Calculus;

}</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
The problem is the space in between the "City College" and "State College". How can I store the name of the school (which is a string) including the space when extracting from a txt file? I'm using ifstream to read from a local file. <br>
<br>
Any help is much appreciated.  Thanks<br>

</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTmcbb4a262ea" title="Tue, 22 Dec 2015 23:07:53 +0000"></span><script type="text/javascript">WhenId('CH_zTmcbb4a262ea');</script><noscript>Dec 22, 2015 at 11:07pm UTC</noscript></span>
<span class="dbtn" id="CH_btn890922"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg890928"><span title="890928,151681,1023,2488,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg890928" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm476615f144" title="Tue, 22 Dec 2015 23:38:26 +0000"></span><script type="text/javascript">WhenId('CH_zTm476615f144');</script><noscript>Dec 22, 2015 at 11:38pm UTC</noscript></div>
<div class="dwho"><a href="/user/TarikNeaj/"><b>TarikNeaj</b> (2488)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i890928">
You use std::getline();<br>
<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br></code></pre></td>
<td class="source"><pre><code>std::string name;
std::cout &lt;&lt; <kbd>"Type ya name m9"</kbd> &lt;&lt; std::endl;
std::getline(std::cin, name);

Input: Tarik Neaj

std::cout &lt;&lt; <kbd>"Your Names is: "</kbd> &lt;&lt; name &lt;&lt; std::endl;

Output: Your name is: Tarik Neaj.</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
<br>
in your case, you don't want to use your file not <span class="auto"><code class="source">std::cin</code></span>. <br>
<br>
<span class="auto"><code class="source">std::getline(myFile, name);</code></span><br>
<br>
<a href="http://www.cplusplus.com/doc/tutorial/files/">http://www.cplusplus.com/doc/tutorial/files/</a><br>
<a href="http://www.cplusplus.com/forum/beginner/11304/">http://www.cplusplus.com/forum/beginner/11304/</a>
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn890928"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg890935"><span title="890935,204670,1023,7,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg890935" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm9441e94b5e" title="Wed, 23 Dec 2015 00:13:24 +0000"></span><script type="text/javascript">WhenId('CH_zTm9441e94b5e');</script><noscript>Dec 23, 2015 at 12:13am UTC</noscript></div>
<div class="dwho"><a href="/user/ryanjamesdeveloper/"><b>ryanjamesdeveloper</b> (7)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i890935">
Thanks for the reponse Tarik Neaj.<br>
<br>
<br>
I understand getline, though if one record consists of multiple items (members of a struct), how does getline know where to stop extracting for the specific struct member? In this case I want to store "City College" in the struct member (schoolName). How do I prevent it from continuing onto the next word after "College" in the row/record?<br>
<br>
As of now, I'm extracting the contents of the txt file with a while loop and the termination point is the whitespace. (See below) If I use getline(sourceFile, recordsArra[arraySize].school) how will getline know where to stop extracting from the txt file for that specific struct member?<br>
<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br></code></pre></td>
<td class="source"><pre><code>
<var>while</var> (!sourceFile.eof()) {

sourceFile &gt;&gt;
		recordsArray[arraySize].school &gt;&gt; recordsArray[arraySize].term &gt;&gt;
		recordsArray[arraySize].year &gt;&gt; recordsArray[arraySize].course &gt;&gt;
		recordsArray[arraySize].grade &gt;&gt; recordsArray[arraySize].units;
}</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
<br>
<br>
The source text file is formatted as such:<br>
<br>
<div class="auto"><table class="snippet"><tr><td class="output"><pre><samp>
City College     Fall        2014   Biology
City College     Fall        2014   Trigonometry
State College    Spring      2015   PreCalculus

</samp></pre></td></tr></table></div>
</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTmfd452499ac" title="Wed, 23 Dec 2015 00:13:47 +0000"></span><script type="text/javascript">WhenId('CH_zTmfd452499ac');</script><noscript>Dec 23, 2015 at 12:13am UTC</noscript></span>
<span class="dbtn" id="CH_btn890935"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg890936"><span title="890936,194103,1023,166,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg890936" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm4f11c5e05f" title="Wed, 23 Dec 2015 00:33:43 +0000"></span><script type="text/javascript">WhenId('CH_zTm4f11c5e05f');</script><noscript>Dec 23, 2015 at 12:33am UTC</noscript></div>
<div class="dwho"><a href="/user/integralfx/"><b>integralfx</b> (166)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i890936">
You can use the string find_first_of function passing in the comma as a parameter.<br>
<a href="http://www.cplusplus.com/reference/string/string/find_first_of/">http://www.cplusplus.com/reference/string/string/find_first_of/</a><br>
<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br></code></pre></td>
<td class="source"><pre><code>    string str(<kbd>"City College, 2014, Fall, Biology"</kbd>);
    record rec;

    size_t prev = 0, comma = str.find_first_of(<kbd>','</kbd>);
    rec.schoolName = str.substr(prev, comma);

    prev = comma + 1;
    comma = str.find_first_of(<kbd>','</kbd>, prev);
    rec.year = atoi(str.substr(prev, comma).c_str());

    prev = comma + 1;
    comma = str.find_first_of(<kbd>','</kbd>, prev);
    rec.term = str.substr(prev, comma);

    prev = comma + 1;
    comma = str.find_first_of(<kbd>','</kbd>, prev);
    rec.courseName = str.substr(prev, comma);

    cout &lt;&lt; rec.schoolName + <kbd>", "</kbd> &lt;&lt; rec.year &lt;&lt; <kbd>", "</kbd> + rec.term + <kbd>", "</kbd> + rec.courseName + <kbd>"\n"</kbd>;</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
<br>
Though for some reason it prints Biology twice. :/<br>
<div class="auto"><table class="snippet"><tr><td class="output"><pre><samp>
City College, 2014,  Fall, Biology,  Biology
</samp></pre></td></tr></table></div>
</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTmfd91ca5a1b" title="Wed, 23 Dec 2015 00:37:14 +0000"></span><script type="text/javascript">WhenId('CH_zTmfd91ca5a1b');</script><noscript>Dec 23, 2015 at 12:37am UTC</noscript></span>
<span class="dbtn" id="CH_btn890936"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg890938"><span title="890938,156650,1023,564,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg890938" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmdee9d7235c" title="Wed, 23 Dec 2015 00:36:28 +0000"></span><script type="text/javascript">WhenId('CH_zTmdee9d7235c');</script><noscript>Dec 23, 2015 at 12:36am UTC</noscript></div>
<div class="dwho"><a href="/user/FurryGuy/"><b>FurryGuy</b> (564)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i890938">
Since you are using a structure, read/write your entire struct to/from the file:<br>
<a href="http://codereview.stackexchange.com/questions/26344/writing-reading-data-structure-to-a-file-using-c">http://codereview.stackexchange.com/questions/26344/writing-reading-data-structure-to-a-file-using-c</a><br>
<a href="http://stackoverflow.com/questions/5506645/how-to-read-write-a-struct-in-binary-files">http://stackoverflow.com/questions/5506645/how-to-read-write-a-struct-in-binary-files</a><br>
<br>
If you have to use a human readable text file, then use getline() for each struct member.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn890938"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg890942"><span title="890942,204670,1023,7,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg890942" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmb378ce7b30" title="Wed, 23 Dec 2015 00:50:46 +0000"></span><script type="text/javascript">WhenId('CH_zTmb378ce7b30');</script><noscript>Dec 23, 2015 at 12:50am UTC</noscript></div>
<div class="dwho"><a href="/user/ryanjamesdeveloper/"><b>ryanjamesdeveloper</b> (7)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i890942">
Thanks for this solution, integralfx.<br>
<br>
<br>
In the event I wish not to delimit the struct members with a comma? Any other solution? <br>
<br>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn890942"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg890974"><span title="890974,194103,1023,166,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg890974" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm8c5556ac4c" title="Wed, 23 Dec 2015 04:08:45 +0000"></span><script type="text/javascript">WhenId('CH_zTm8c5556ac4c');</script><noscript>Dec 23, 2015 at 4:08am UTC</noscript></div>
<div class="dwho"><a href="/user/integralfx/"><b>integralfx</b> (166)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i890974">
I'm assuming spaces between each category is a tab. So you can just replace the find_first_of() with the tab character literal : '\t'. I don't know if this works as I haven't tested it out yet. It's worth a try though.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn890974"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg890991"><span title="890991,176582,1023,37,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg890991" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmb4589a39fd" title="Wed, 23 Dec 2015 07:19:09 +0000"></span><script type="text/javascript">WhenId('CH_zTmb4589a39fd');</script><noscript>Dec 23, 2015 at 7:19am UTC</noscript></div>
<div class="dwho"><a href="/user/Semoirethe/"><b>Semoirethe</b> (37)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i890991">
If you know the format of the file won't change.<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br></code></pre></td>
<td class="source"><pre><code>std::string part1, part2;
<var>while</var> (!sourceFile.eof()) {

sourceFile &gt;&gt; part1 &gt;&gt; part2 &gt;&gt; recordsArray[arraySize].term &gt;&gt;
		recordsArray[arraySize].year &gt;&gt; recordsArray[arraySize].course &gt;&gt;
		recordsArray[arraySize].grade &gt;&gt; recordsArray[arraySize].units;
                recordArray[arraySize].school = part1 + <kbd>" "</kbd> + part2;
}</code></pre></td><td class="C_btnholder"></td></tr></table></div>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn890991"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg890996"><span title="890996,204670,1023,7,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg890996" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm8fa81e0dec" title="Wed, 23 Dec 2015 08:26:31 +0000"></span><script type="text/javascript">WhenId('CH_zTm8fa81e0dec');</script><noscript>Dec 23, 2015 at 8:26am UTC</noscript></div>
<div class="dwho"><a href="/user/ryanjamesdeveloper/"><b>ryanjamesdeveloper</b> (7)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i890996">
integralfx - I'll try that out. Thanks!<br>
<br>
Semoirethe - Aren't the &gt;&gt; symobls an extractor? What is being extracted from string part1 and part1 in this snippet? I don't understand how two empty concatenated string assign something? Sorry.. I'm a n00b.<br>

</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTm36151ad6e7" title="Wed, 23 Dec 2015 08:28:13 +0000"></span><script type="text/javascript">WhenId('CH_zTm36151ad6e7');</script><noscript>Dec 23, 2015 at 8:28am UTC</noscript></span>
<span class="dbtn" id="CH_btn890996"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg890999"><span title="890999,194103,1023,166,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg890999" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmccd78544a5" title="Wed, 23 Dec 2015 09:03:32 +0000"></span><script type="text/javascript">WhenId('CH_zTmccd78544a5');</script><noscript>Dec 23, 2015 at 9:03am UTC</noscript></div>
<div class="dwho"><a href="/user/integralfx/"><b>integralfx</b> (166)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i890999">
It extracts the contents of the file. Wherever there is a space in the file, it will store it in that variable. <br>
<br>
For example, <span class="auto"><code class="source">part1</code></span> stores "City", <span class="auto"><code class="source">part2</code></span> stores "College", <span class="auto"><code class="source">recordsArray[arraySize].term</code></span> stores "Fall", etc.
</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTmfc55be9884" title="Wed, 23 Dec 2015 09:06:45 +0000"></span><script type="text/javascript">WhenId('CH_zTmfc55be9884');</script><noscript>Dec 23, 2015 at 9:06am UTC</noscript></span>
<span class="dbtn" id="CH_btn890999"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg891123"><span title="891123,204670,1023,7,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg891123" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm2b81c026dd" title="Wed, 23 Dec 2015 21:28:57 +0000"></span><script type="text/javascript">WhenId('CH_zTm2b81c026dd');</script><noscript>Dec 23, 2015 at 9:28pm UTC</noscript></div>
<div class="dwho"><a href="/user/ryanjamesdeveloper/"><b>ryanjamesdeveloper</b> (7)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i891123">
integralfx - I tried this method and got an error.  When I put a break point to see what's being stored in the strings "part1" or "part2", it says "error reading characters of string". Not sure what's going on. Seems odd.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn891123"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg891129"><span title="891129,94088,1023,5090,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg891129" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm9ebef719c4" title="Wed, 23 Dec 2015 21:53:26 +0000"></span><script type="text/javascript">WhenId('CH_zTm9ebef719c4');</script><noscript>Dec 23, 2015 at 9:53pm UTC</noscript></div>
<div class="dwho"><a href="/user/Chervil/"><b>Chervil</b> (5090)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i891129">
I have a question.<br>
<table class="quote"><tr><td class="qd">The source text file is formatted as such:</td></tr></table>
<div class="auto"><table class="snippet"><tr><td class="output"><pre><samp>City College     Fall        2014   Biology
City College     Fall        2014   Trigonometry
State College    Spring      2015   PreCalculus</samp></pre></td></tr></table></div><br>
Am I right in assuming that this file is supplied to you by someone else and you cannot change it at all?<br>
<br>
If so, is it properly represented here - all the blanks are ordinary spaces, or is is possible that the original file has tab characters '\t' as separators between each field?
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn891129"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg891132"><span title="891132,204670,1023,7,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg891132" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm7fd867155b" title="Wed, 23 Dec 2015 22:02:44 +0000"></span><script type="text/javascript">WhenId('CH_zTm7fd867155b');</script><noscript>Dec 23, 2015 at 10:02pm UTC</noscript></div>
<div class="dwho"><a href="/user/ryanjamesdeveloper/"><b>ryanjamesdeveloper</b> (7)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i891132">
Chevril,<br>
<br>
<br>
The file is supplied by me so it can change, though I would like this formatting to persist. The separator between each struct member is a tab '\t'.   <br>
<br>
<br>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn891132"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg891136"><span title="891136,127909,1023,2072,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg891136" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm5df620bd3b" title="Wed, 23 Dec 2015 22:19:25 +0000"></span><script type="text/javascript">WhenId('CH_zTm5df620bd3b');</script><noscript>Dec 23, 2015 at 10:19pm UTC</noscript></div>
<div class="dwho"><a href="/user/dhayden/"><b>dhayden</b> (2072)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i891136">
If the fields are separated with tabs then you can use the getline() variant that specifies the delimiter<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br></code></pre></td>
<td class="source"><pre><code>istream <var>operator</var> &gt;&gt; (istream &amp;is, record &amp;dst)
{
    getline(is, dst.schoolName, <kbd>'\t'</kbd>);
    is &gt;&gt; dst.year;
    is.ignore();    <cite>// ignore the tab following year</cite>
    getline(is, dst.term, <kbd>'\t'</kbd>);
    getline(is, dst.courseName);  <cite>// courseName ends with end-of-line</cite>
    <var>return</var> is;
}</code></pre></td><td class="C_btnholder"></td></tr></table></div>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn891136"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg891139"><span title="891139,94088,1023,5090,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg891139" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm3bab48fa2b" title="Wed, 23 Dec 2015 22:48:31 +0000"></span><script type="text/javascript">WhenId('CH_zTm3bab48fa2b');</script><noscript>Dec 23, 2015 at 10:48pm UTC</noscript></div>
<div class="dwho"><a href="/user/Chervil/"><b>Chervil</b> (5090)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i891139">
@dhayden - Looks good. But did you get the <i>year</i> and <i>term</i> fields swapped out of sequence? Also the return type should be a reference to the stream.<br>
<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br></code></pre></td>
<td class="source"><pre><code><var>const</var> <var>char</var> tab = <kbd>'\t'</kbd>;

istream &amp; <var>operator</var> &gt;&gt; (istream &amp;is, record &amp;dst)
{
    getline(is, dst.schoolName, tab);
    getline(is, dst.term, tab);
    is &gt;&gt; dst.year;
    is.ignore();    <cite>// ignore the tab following year    </cite>
    getline(is, dst.courseName);  <cite>// courseName ends with end-of-line</cite>
    <var>return</var> is;
}

ostream &amp; <var>operator</var> &lt;&lt; (ostream &amp;os, <var>const</var> record &amp;dst)
{
     <var>return</var> os 
       &lt;&lt; dst.schoolName &lt;&lt; tab 
       &lt;&lt; dst.term       &lt;&lt; tab
       &lt;&lt; dst.year       &lt;&lt; tab
       &lt;&lt; dst.courseName;
}</code></pre></td><td class="C_btnholder"></td></tr></table></div>

</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTm7bddb5f607" title="Wed, 23 Dec 2015 23:02:55 +0000"></span><script type="text/javascript">WhenId('CH_zTm7bddb5f607');</script><noscript>Dec 23, 2015 at 11:02pm UTC</noscript></span>
<span class="dbtn" id="CH_btn891139"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg891157"><span title="891157,94088,1023,5090,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg891157" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm8f1317509f" title="Thu, 24 Dec 2015 00:12:57 +0000"></span><script type="text/javascript">WhenId('CH_zTm8f1317509f');</script><noscript>Dec 24, 2015 at 12:12am UTC</noscript></div>
<div class="dwho"><a href="/user/Chervil/"><b>Chervil</b> (5090)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i891157">
@ryanjamesdeveloper<br>
<br>
I'm not sure whether you've followed the last couple of posts, and how that code relates to your original questions. So here's a complete example showing the code in context.<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br>46<br>47<br>48<br></code></pre></td>
<td class="source"><pre><code><dfn>#include &lt;iostream&gt;</dfn>
<dfn>#include &lt;fstream&gt;</dfn>
<dfn>#include &lt;string&gt;</dfn>
<dfn>#include &lt;vector&gt;</dfn>

<var>using</var> <var>namespace</var> std;

<var>struct</var> record 
{
    string schoolName;
    string term;
    string courseName;
    <var>int</var> year;
};

<var>const</var> <var>char</var> tab = <kbd>'\t'</kbd>;

istream &amp; <var>operator</var> &gt;&gt; (istream &amp;is, record &amp;dst)
{
    getline(is, dst.schoolName, tab);
    getline(is, dst.term, tab);
    is &gt;&gt; dst.year;
    is.ignore();    <cite>// ignore the tab following year    </cite>
    getline(is, dst.courseName);  <cite>// courseName ends with end-of-line</cite>
    <var>return</var> is;
}

ostream &amp; <var>operator</var> &lt;&lt; (ostream &amp;os, <var>const</var> record &amp;dst)
{
     <var>return</var> os 
       &lt;&lt; dst.schoolName &lt;&lt; tab 
       &lt;&lt; dst.term       &lt;&lt; tab
       &lt;&lt; dst.year       &lt;&lt; tab
       &lt;&lt; dst.courseName;
}

<var>int</var> main()
{
    ifstream fin(<kbd>"data.txt"</kbd>);

    vector &lt;record&gt; recs;
    record rec;
    <var>while</var> (fin &gt;&gt; rec)
        recs.push_back(rec);
        
    <var>for</var> (<var>auto</var> &amp; r : recs)
        cout &lt;&lt; r &lt;&lt; endl;
}</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
<br>
Output:<br>
<div class="auto"><table class="snippet"><tr><td class="output"><pre><samp>City College    Fall    2014    Biology
City College    Fall    2014    Trigonometry
State College   Spring  2015    PreCalculus</samp></pre></td></tr></table></div><br>
This may not look very exciting. The output looks a whole lot like the input file, so is the program simply copying the input file to the console?<br>
<br>
Well no. With the good start suggested by  <b>dhayden</b> above, the input was parsed into individual fields, stored in a record structure, and then stored in a vector (much like a dynamically sized array). <br>
The two <i>operator</i> functions allow the record object to be input or output with the same syntax as for ordinary types such as int or string.<br>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn891157"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg892251"><span title="892251,204670,1023,7,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg892251" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmbd47c526c4" title="Thu, 31 Dec 2015 21:09:59 +0000"></span><script type="text/javascript">WhenId('CH_zTmbd47c526c4');</script><noscript>Dec 31, 2015 at 9:09pm UTC</noscript></div>
<div class="dwho"><a href="/user/ryanjamesdeveloper/"><b>ryanjamesdeveloper</b> (7)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i892251">
Thanks <b>all</b> for the contributions on this post. <br>
<br>
I haven't used vector just yet (looks like the syntax is a bit different) so I'm not familiar, but I will look into that a bit more. <br>
<br>
Also @chevril can you explain the block of code between lines 18-26?  They look like function definitions but not exactly what I'm familiar with. Much appreciated!<br>
<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br></code></pre></td>
<td class="source"><pre><code>istream &amp; <var>operator</var> &gt;&gt; (istream &amp;is, record &amp;dst)
{
    getline(is, dst.schoolName, tab);
    getline(is, dst.term, tab);
    is &gt;&gt; dst.year;
    is.ignore();    <cite>// ignore the tab following year    </cite>
    getline(is, dst.courseName);  <cite>// courseName ends with end-of-line</cite>
    <var>return</var> is;
}</code></pre></td><td class="C_btnholder"></td></tr></table></div>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn892251"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg892283"><span title="892283,156650,1023,564,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg892283" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm3999493038" title="Fri, 01 Jan 2016 01:23:52 +0000"></span><script type="text/javascript">WhenId('CH_zTm3999493038');</script><noscript>Jan 1, 2016 at 1:23am UTC</noscript></div>
<div class="dwho"><a href="/user/FurryGuy/"><b>FurryGuy</b> (564)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i892283">
<table class="quote"><tr><td class="qd">I haven't used vector just yet</td></tr></table><br>
<br>
Learn about all the C++ STL container classes, and the algorithms used to access and manipulate the containers, so you don't have to reinvent a flat wheel writing your own containers and algorithms.<br>
<br>
The time spent learning how to use one container class, vector for example, will teach you most of the basics how to use all the other container classes.<br>
<br>
<a href="http://www.cplusplus.com/reference/stl/">http://www.cplusplus.com/reference/stl/</a><br>
<a href="http://www.cplusplus.com/reference/algorithm/">http://www.cplusplus.com/reference/algorithm/</a>
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn892283"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg892285"><span title="892285,156650,1023,564,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg892285" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm2cbb0ce5fa" title="Fri, 01 Jan 2016 01:35:26 +0000"></span><script type="text/javascript">WhenId('CH_zTm2cbb0ce5fa');</script><noscript>Jan 1, 2016 at 1:35am UTC</noscript></div>
<div class="dwho"><a href="/user/FurryGuy/"><b>FurryGuy</b> (564)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i892285">
<table class="quote"><tr><td class="qd">explain the block of code between lines 18-26? They look like function definitions but not exactly what I'm familiar with.</td></tr></table><br>
<br>
They are functions that overload the C++ i/o streams insertion and extraction operators.<br>
<a href="http://en.cppreference.com/w/cpp/language/operators">http://en.cppreference.com/w/cpp/language/operators</a><br>
<br>
With custom created structs and classes you can't cin and cout a class object, as you can with the built-in data types.  The two functions tell the compiler how to deal with your struct as if it were a built-in type, like int.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn892285"></span>

</div>
</div>
</div>
</div><div class="rootinsMore"></div><div class="rootbtnMore"></div><div class="rootinsNew"></div><div class="rootbtnNew"></div><div id="CH_insNew"></div><div id="CH_reply">Topic archived. No new replies allowed.</div><div id="CH_subscription"></div><div class="rootedtNew"></div><script type="text/javascript">new for_PostList(181655,1,204670,0,'CH_PostList','CH_subscription','CH_reply','CH_insNew','CH_edttl','/forum/thread.cgi','/forum/post.cgi','/forum/myposts.cgi',64,32,512,256,1024,16);</script></div>
<script type="text/javascript">
    google_ad_client = "ca-pub-1444228343479937";
    google_ad_slot = "9701143201";
    google_ad_width = 728;
    google_ad_height = 90;
</script>
<!-- leaderboard -->
<script type="text/javascript"
src="//pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div>
<div id="I_nav">
<div class="sect root">
<h3><b><a href="/">C++</a></b></h3>
<ul>
<li class="folder info"><a href="/info/">Information</a></li>
<li class="folder doc"><a href="/doc/">Tutorials</a></li>
<li class="folder reference"><a href="/reference/">Reference</a></li>
<li class="folder articles"><a href="/articles/">Articles</a></li>
<li class="folder selected forum"><a href="/forum/">Forum</a></li>
</ul>
</div>
<div class="sect">
<h3><b><a href="/forum/">Forum</a></b></h3>
<ul>
<li class="selected"><a href="/forum/beginner/"><b>Beginners</b></a></li><li><a href="/forum/windows/"><b>Windows Programming</b></a></li><li><a href="/forum/unices/"><b>UNIX/Linux Programming</b></a></li><li><a href="/forum/general/"><b>General C++ Programming</b></a></li><li><a href="/forum/lounge/"><b>Lounge</b></a></li><li><a href="/forum/jobs/"><b>Jobs</b></a></li></ul>
</div>
<div id="I_subnav"></div>
<div class="C_ad234">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-7688470879129516";
google_ad_slot = "7445514729";
google_ad_width = 234;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div></div>
<div id="I_midclear"></div>
</div>
</div>
<div id="I_bottom">
<div id="I_footer">
	<a href="/">Home page</a> | <a href="/privacy.do">Privacy policy</a><br>&copy; cplusplus.com, 2000-2016 - All rights reserved - <i>v3.1</i><br><a href="/contact.do?referrer=www.cplusplus.com%2Fforum%2Fbeginner%2F181655%2F">Spotted an error? contact us</a>
</div>
</div>

<script type="text/javascript">
<!--
function NavFor(us) {document.getElementById('I_subnav').innerHTML=us.ok?'<div class="sect"><h3><b><a href="/user/">'+us.user+'</a></b></h3><ul><li><a href="/forum/myposts.cgi">My topics</a></li></ul></div>':'';}onSession(NavFor);ready();
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-521783-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//-->
</script>

</body>
</html>