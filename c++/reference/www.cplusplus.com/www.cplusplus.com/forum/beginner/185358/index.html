<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Problems with a (relatively) simple prog - C++ Forum</title>
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
<link rel="stylesheet" type="text/css" href="/v321/main.css">
<script src="/v321/main.js" type="text/javascript"></script>
<script type='text/javascript'>
var googletag = googletag || {};
googletag.cmd = googletag.cmd || [];
(function() {
var gads = document.createElement('script');
gads.async = true;
gads.type = 'text/javascript';
var useSSL = 'https:' == document.location.protocol;
gads.src = (useSSL ? 'https:' : 'http:') + 
'//www.googletagservices.com/tag/js/gpt.js';
var node = document.getElementsByTagName('script')[0];
node.parentNode.insertBefore(gads, node);
})();
</script>

<script type='text/javascript'>
googletag.cmd.push(function() {
googletag.defineSlot('/32882001/L', [728, 90], 'div-gpt-ad-1427191279638-0').addService(googletag.pubads());
googletag.enableServices();
});
</script>
</head>
<body>
<div id="I_top">
<div id="I_header">
<div id="I_logo"><a href="/" title="cplusplus.com"><div></div></a></div>
<div id="I_search">
<form id="search" action="/search.do" method="get">
Search: <input name="q" size="20" class="txt"> <input type="submit" value="Go" class="btn">
</form>
</div>
<div id="I_bar">
<ul>
<li><a href="/forum/">Forum</a></li>
<li><a href="/forum/beginner/">Beginners</a></li>
<li class="here">Problems with a (relatively) simple prog</li>
</ul>
</div>
<div id="I_user" class="C_LoginBox"><span title="ajax"></span></div>
</div>
</div>
<div id="I_mid">
<div id="I_wrap">
<div id="I_minheight"></div>
<div id="I_main">
<div class="C_support">
<div id='div-gpt-ad-1427191279638-0' style='width:728px; height:90px;'>
<script type='text/javascript'>
googletag.cmd.push(function() { googletag.display('div-gpt-ad-1427191279638-0'); });
</script>
</div>
</div>
<div id="I_content">
<h3><div class="C_ico question" title="question">&nbsp;</div> Problems with a (relatively) simple program</h3><span id="CH_edttl"></span><span class="rootdatPost" title="185358,root,0,-1,6,0"></span><div id="CH_PostList"><div class="C_forPost" id="msg905081"><span title="905081,213832,255,2,1"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg905081" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmf7b449af18" title="Wed, 24 Feb 2016 23:09:30 +0000"></span><script type="text/javascript">WhenId('CH_zTmf7b449af18');</script><noscript>Feb 24, 2016 at 11:09pm UTC</noscript></div>
<div class="dwho"><a href="/user/skednec/"><b>skednec</b> (2)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i905081">
I have recently decided to get properly into c++, and my main method of learning so far has been problem solving.<br>
<br>
My latest project is a would-be game of sorts, very alike to text adventures, but with a randomly generated environment.<br>
The simplest way to approach this seems to be random generation of surroundings at every move. The game isn't supposed to make sense, so the complete random nature of what you'll encounter, even when going to areas already explored, isn't an issue.<br>
<br>
What is, though, is the fact that the random generation simply doesn't work.<br>
I must have some mental impairment related to using If statements, because I can`t get them to work for the life of me.<br>
<br>
When the following program is run, it should pick one of the possible strings detailing the environment and go on to the next direction, but it instead lists all possible environments for every direction.<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br></code></pre></td>
<td class="source"><pre><code><dfn>#include &lt;iostream&gt;</dfn>
<dfn>#include &lt;string&gt;</dfn>
<dfn>#include &lt;cstdlib&gt;</dfn>
<dfn>#include &lt;ctime&gt;</dfn>
<var>using</var> <var>namespace</var> std;
<var>int</var> x = 25, y = 25; <cite>//character position at start - middle</cite>
<var>int</var> up;
<var>int</var> down;
<var>int</var> l;
<var>int</var> r;
string desert = <kbd>"a dry, dead desert. You can feel the heat emanating from the sand, and there is no water in sight. \n"</kbd>;
string valley = <kbd>"a lush, green valley, with a few fresh ponds and the ocassional tree. Some critters are roaming about. \n"</kbd>;
string mountain = <kbd>"a mighhty mountain, with a few icy peaks, and sharp rocks all around. There are a few patches of grass here and there, and a few rivers flowing nearby. \n"</kbd>;
string river = <kbd>"a great river, storming through the ground at an alarming speed. There are a few fish in the water, though it does not look potable. \n"</kbd>;
string hill = <kbd>"hills coverig the horizon, one after the other. There is a fresh-looking river running through them, and there bust be plenty of food within the neverending forests. \n"</kbd>;
string v = <kbd>"a darkness you have never witnessed before in your life. There are a few chunks of a weird-looking material whih seem to be just floating in space. \n"</kbd>;
<var>int</var> main()
{srand(time(0));
up = rand() %5;
down = rand() %6;
l = rand() %5;
r = rand() %5;
<var>if</var> (up=0) {cout &lt;&lt; <kbd>"You see in front of you "</kbd>&lt;&lt; desert;}
<var>if</var> (up=1) {cout &lt;&lt; <kbd>"You see in front of you "</kbd>&lt;&lt; valley;}
<var>if</var> (up=2) {cout &lt;&lt; <kbd>"You see in front of you "</kbd>&lt;&lt; mountain;}
<var>if</var> (up=3) {cout &lt;&lt; <kbd>"You see in front of you "</kbd>&lt;&lt; river;}
<var>if</var> (up=4) {cout &lt;&lt; <kbd>"You see in front of you "</kbd>&lt;&lt; hill;}
<var>if</var> (l=0) {cout &lt;&lt; <kbd>"You spot to your left "</kbd>&lt;&lt; desert;}
<var>if</var> (l=1) {cout &lt;&lt; <kbd>"You spot to your left "</kbd>&lt;&lt; valley;}
<var>if</var> (l=2) {cout &lt;&lt; <kbd>"You spot to your left "</kbd>&lt;&lt; mountain;}
<var>if</var> (l=3) {cout &lt;&lt; <kbd>"You spot to your left "</kbd>&lt;&lt; river;}
<var>if</var> (l=4) {cout &lt;&lt; <kbd>"You spot to your left "</kbd>&lt;&lt; hill;}
<var>if</var> (r=0) {cout &lt;&lt; <kbd>"Looking to the right, you notice "</kbd>&lt;&lt; desert;}
<var>if</var> (r=1) {cout &lt;&lt; <kbd>"Looking to the right, you notice "</kbd>&lt;&lt; valley;}
<var>if</var> (r=2) {cout &lt;&lt; <kbd>"Looking to the right, you notice "</kbd>&lt;&lt; mountain;}
<var>if</var> (r=3) {cout &lt;&lt; <kbd>"Looking to the right, you notice "</kbd>&lt;&lt; river;}
<var>if</var> (r=4) {cout &lt;&lt; <kbd>"Looking to the right, you notice "</kbd>&lt;&lt; hill;}
<var>if</var> (down=0) {cout &lt;&lt; <kbd>"Behind you there is "</kbd>&lt;&lt; desert;}
<var>if</var> (down=1) {cout &lt;&lt; <kbd>"Behind you there is "</kbd>&lt;&lt; valley;}
<var>if</var> (down=2) {cout &lt;&lt; <kbd>"Behind you there is "</kbd>&lt;&lt; mountain;}
<var>if</var> (down=3) {cout &lt;&lt; <kbd>"Behind you there is "</kbd>&lt;&lt; river;}
<var>if</var> (down=4) {cout &lt;&lt; <kbd>"Behind you there is "</kbd>&lt;&lt; hill;}
<var>if</var> (down=5) {cout &lt;&lt; <kbd>"Behind you there is "</kbd>&lt;&lt; v;}
}
</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
<br>
If anybody will have the mercy to point out where my stupidity lies, it would be greatly appreciated.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn905081"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg905085"><span title="905085,108205,1023,837,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg905085" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm1d649a3f16" title="Wed, 24 Feb 2016 23:21:19 +0000"></span><script type="text/javascript">WhenId('CH_zTm1d649a3f16');</script><noscript>Feb 24, 2016 at 11:21pm UTC</noscript></div>
<div class="dwho"><a href="/user/Yanson/"><b>Yanson</b> (837)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i905085">
<span class="auto"><code class="source"><var>if</var> (up=0)</code></span> = is assignment == is equality
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn905085"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg905186"><span title="905186,213832,255,2,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg905186" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm662c1512f1" title="Thu, 25 Feb 2016 09:54:40 +0000"></span><script type="text/javascript">WhenId('CH_zTm662c1512f1');</script><noscript>Feb 25, 2016 at 9:54am UTC</noscript></div>
<div class="dwho"><a href="/user/skednec/"><b>skednec</b> (2)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i905186">
Ah, well, I completely missed that. Thanks.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn905186"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg905199"><span title="905199,209483,1023,41,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg905199" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmfa801e1ead" title="Thu, 25 Feb 2016 11:13:28 +0000"></span><script type="text/javascript">WhenId('CH_zTmfa801e1ead');</script><noscript>Feb 25, 2016 at 11:13am UTC</noscript></div>
<div class="dwho"><a href="/user/WakeofMisery/"><b>WakeofMisery</b> (41)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i905199">
Not sure if you've previously taken a C++ class, course, etc. or are just teaching yourself as you go, but thought I would provide a tip. For every loop, if statement, comparison, etc. you will only need braces "{}" if the control statement has more than one line of code attributed to it. Now, be careful with this rule, because classes and functions always need braces. Do not get them confused with each other.<br>
<br>
For example:<br>
<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br></code></pre></td>
<td class="source"><pre><code><var>if</var> (r = 4)
{
     cout &lt;&lt; <kbd>"Looking to the right, you notice "</kbd>&lt;&lt; hill;
     cout &lt;&lt; <kbd>"You spot to your left "</kbd> &lt;&lt; river;
}</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
Also, here are some useful tutorials for you: <br>
<a href="http://mrbool.com/importance-of-code-indentation/29079">http://mrbool.com/importance-of-code-indentation/29079</a><br>
<a href="http://www.cplusplus.com/doc/tutorial/control/">http://www.cplusplus.com/doc/tutorial/control/</a>
</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTm0772300a66" title="Thu, 25 Feb 2016 11:17:49 +0000"></span><script type="text/javascript">WhenId('CH_zTm0772300a66');</script><noscript>Feb 25, 2016 at 11:17am UTC</noscript></span>
<span class="dbtn" id="CH_btn905199"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg905226"><span title="905226,88654,1023,4208,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg905226" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm683228c7ba" title="Thu, 25 Feb 2016 13:25:22 +0000"></span><script type="text/javascript">WhenId('CH_zTm683228c7ba');</script><noscript>Feb 25, 2016 at 1:25pm UTC</noscript></div>
<div class="dwho"><a href="/user/TheIdeasMan/"><b>TheIdeasMan</b> (4208)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i905226">
<table class="quote"><tr><td class="qd">For every loop, if statement, comparison, etc. you will only need braces "{}" if the control statement has more than one line of code attributed to it. </td></tr></table><br>
<br>
I do the opposite of that: I <i>always</i> put braces, even if it is one statement. This will save you one day, when you add more code.<br>
<br>
This is an example of a defensive coding measure: not required by the language, but helps prevent one from messing up in the future.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn905226"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg905287"><span title="905287,198580,1023,108,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg905287" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmce325a0aa6" title="Thu, 25 Feb 2016 18:11:28 +0000"></span><script type="text/javascript">WhenId('CH_zTmce325a0aa6');</script><noscript>Feb 25, 2016 at 6:11pm UTC</noscript></div>
<div class="dwho"><a href="/user/jgg2002/"><b>jgg2002</b> (108)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i905287">
On your random:<br>
Since you need a range from 0-5 or 0-6 you'll need to do that like this:<br>
<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br></code></pre></td>
<td class="source"><pre><code>up = 0 + rand() %5;
down =0 + rand() %6;
l = 0 + rand() %5;
r =0 + rand() %5;</code></pre></td><td class="C_btnholder"></td></tr></table></div>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn905287"></span>

</div>
</div>
</div>
</div><div class="rootinsMore"></div><div class="rootbtnMore"></div><div class="rootinsNew"></div><div class="rootbtnNew"></div><div id="CH_insNew"></div><div id="CH_reply">Registered users can post here. <a href="/user/">Sign in or register</a> to post.</div><div id="CH_subscription"></div><div class="rootedtNew"></div><script type="text/javascript">new for_PostList(185358,0,213832,0,'CH_PostList','CH_subscription','CH_reply','CH_insNew','CH_edttl','/forum/thread.cgi','/forum/post.cgi','/forum/myposts.cgi',64,32,512,256,1024,16);</script></div>
<script type="text/javascript">
    google_ad_client = "ca-pub-1444228343479937";
    google_ad_slot = "9701143201";
    google_ad_width = 728;
    google_ad_height = 90;
</script>
<!-- leaderboard -->
<script type="text/javascript"
src="//pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div>
<div id="I_nav">
<div class="sect root">
<h3><b><a href="/">C++</a></b></h3>
<ul>
<li class="folder info"><a href="/info/">Information</a></li>
<li class="folder doc"><a href="/doc/">Tutorials</a></li>
<li class="folder reference"><a href="/reference/">Reference</a></li>
<li class="folder articles"><a href="/articles/">Articles</a></li>
<li class="folder selected forum"><a href="/forum/">Forum</a></li>
</ul>
</div>
<div class="sect">
<h3><b><a href="/forum/">Forum</a></b></h3>
<ul>
<li class="selected"><a href="/forum/beginner/"><b>Beginners</b></a></li><li><a href="/forum/windows/"><b>Windows Programming</b></a></li><li><a href="/forum/unices/"><b>UNIX/Linux Programming</b></a></li><li><a href="/forum/general/"><b>General C++ Programming</b></a></li><li><a href="/forum/lounge/"><b>Lounge</b></a></li><li><a href="/forum/jobs/"><b>Jobs</b></a></li></ul>
</div>
<div id="I_subnav"></div>
<div class="C_ad234">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-7688470879129516";
google_ad_slot = "7445514729";
google_ad_width = 234;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div></div>
<div id="I_midclear"></div>
</div>
</div>
<div id="I_bottom">
<div id="I_footer">
	<a href="/">Home page</a> | <a href="/privacy.do">Privacy policy</a><br>&copy; cplusplus.com, 2000-2016 - All rights reserved - <i>v3.1</i><br><a href="/contact.do?referrer=www.cplusplus.com%2Fforum%2Fbeginner%2F185358%2F">Spotted an error? contact us</a>
</div>
</div>

<script type="text/javascript">
<!--
function NavFor(us) {document.getElementById('I_subnav').innerHTML=us.ok?'<div class="sect"><h3><b><a href="/user/">'+us.user+'</a></b></h3><ul><li><a href="/forum/myposts.cgi">My topics</a></li></ul></div>':'';}onSession(NavFor);ready();
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-521783-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//-->
</script>

</body>
</html>