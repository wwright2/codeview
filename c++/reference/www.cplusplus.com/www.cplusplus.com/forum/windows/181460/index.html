<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title> Rights Programmes. - C++ Forum</title>
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
<link rel="stylesheet" type="text/css" href="/v321/main.css">
<script src="/v321/main.js" type="text/javascript"></script>
<script type='text/javascript'>
var googletag = googletag || {};
googletag.cmd = googletag.cmd || [];
(function() {
var gads = document.createElement('script');
gads.async = true;
gads.type = 'text/javascript';
var useSSL = 'https:' == document.location.protocol;
gads.src = (useSSL ? 'https:' : 'http:') + 
'//www.googletagservices.com/tag/js/gpt.js';
var node = document.getElementsByTagName('script')[0];
node.parentNode.insertBefore(gads, node);
})();
</script>

<script type='text/javascript'>
googletag.cmd.push(function() {
googletag.defineSlot('/32882001/L', [728, 90], 'div-gpt-ad-1427191279638-0').addService(googletag.pubads());
googletag.enableServices();
});
</script>
</head>
<body>
<div id="I_top">
<div id="I_header">
<div id="I_logo"><a href="/" title="cplusplus.com"><div></div></a></div>
<div id="I_search">
<form id="search" action="/search.do" method="get">
Search: <input name="q" size="20" class="txt"> <input type="submit" value="Go" class="btn">
</form>
</div>
<div id="I_bar">
<ul>
<li><a href="/forum/">Forum</a></li>
<li><a href="/forum/windows/">Windows Programming</a></li>
<li class="here"> Rights Programmes.</li>
</ul>
</div>
<div id="I_user" class="C_LoginBox"><span title="ajax"></span></div>
</div>
</div>
<div id="I_mid">
<div id="I_wrap">
<div id="I_minheight"></div>
<div id="I_main">
<div class="C_support">
<div id='div-gpt-ad-1427191279638-0' style='width:728px; height:90px;'>
<script type='text/javascript'>
googletag.cmd.push(function() { googletag.display('div-gpt-ad-1427191279638-0'); });
</script>
</div>
</div>
<div id="I_content">
<h3><div class="C_ico question" title="question">&nbsp;</div><div class="C_ico solved" title="solved">&nbsp;</div>  Rights Programmes.</h3><span id="CH_edttl"></span><span class="rootdatPost" title="181460,root,0,-1,16,0"></span><div id="CH_PostList"><div class="C_forPost" id="msg890212"><span title="890212,202910,1023,23,1"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg890212" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm1544c3855f" title="Sat, 19 Dec 2015 11:12:32 +0000"></span><script type="text/javascript">WhenId('CH_zTm1544c3855f');</script><noscript>Dec 19, 2015 at 11:12am UTC</noscript></div>
<div class="dwho"><a href="/user/Hex213/"><b>Hex213</b> (23)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i890212">
I need help, when I start the application I got the following code:<br>
<br>
ofstream LAST1("D:\\End.ini");<br>
LAST1 &lt;&lt; "1" &lt;&lt; endl;<br>
LAST1 &lt;&lt; Directory;<br>
LAST1.close();<br>
system("start Second.exe");<br>
exit(1);<br>
<br>
<br>
In Second.exe application have following code:<br>
char Type;<br>
string Directory;<br>
ifstream Read ("D:\\End.ini");<br>
Read &gt;&gt; Type;<br>
Read &gt;&gt; Directory;<br>
Read.close();<br>
<br>
string B = "erase /Q " + Directory;<br>
const char *D = B.c_str();<br>
system(D);<br>
<br>
It is only part of the codes<br>
<br>
In first application can be erased file End.ini but in second application it does not. The application displays an Access denied. I use Win32. I do not know what I do. :)
</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTma41a1bf762" title="Sat, 19 Dec 2015 11:13:30 +0000"></span><script type="text/javascript">WhenId('CH_zTma41a1bf762');</script><noscript>Dec 19, 2015 at 11:13am UTC</noscript></span>
<span class="dbtn" id="CH_btn890212"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg890420"><span title="890420,140309,1023,149,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg890420" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm1f1509c4a2" title="Sun, 20 Dec 2015 14:23:37 +0000"></span><script type="text/javascript">WhenId('CH_zTm1f1509c4a2');</script><noscript>Dec 20, 2015 at 2:23pm UTC</noscript></div>
<div class="dwho"><a href="/user/Shadowwolf/"><b>Shadowwolf</b> (149)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i890420">
What function exactly returns the access denied error? And what value did you specify for <span class="auto"><code class="source">Directory</code></span> in your first application?
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn890420"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg890821"><span title="890821,202910,1023,23,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg890821" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm3007d8ee24" title="Tue, 22 Dec 2015 14:59:26 +0000"></span><script type="text/javascript">WhenId('CH_zTm3007d8ee24');</script><noscript>Dec 22, 2015 at 2:59pm UTC</noscript></div>
<div class="dwho"><a href="/user/Hex213/"><b>Hex213</b> (23)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i890821">
Writes me "Error deleting file: Permission denied" and directory can be determined by users and writes to me in any location Then it writes to a file and second program work with it.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn890821"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg890868"><span title="890868,140309,1023,149,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg890868" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmf4fe78728e" title="Tue, 22 Dec 2015 17:53:49 +0000"></span><script type="text/javascript">WhenId('CH_zTmf4fe78728e');</script><noscript>Dec 22, 2015 at 5:53pm UTC</noscript></div>
<div class="dwho"><a href="/user/Shadowwolf/"><b>Shadowwolf</b> (149)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i890868">
Does your first program or your second program return the permission denied error? That's quite a crucial detail.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn890868"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg890875"><span title="890875,202910,1023,23,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg890875" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm5c12dbfd87" title="Tue, 22 Dec 2015 18:30:12 +0000"></span><script type="text/javascript">WhenId('CH_zTm5c12dbfd87');</script><noscript>Dec 22, 2015 at 6:30pm UTC</noscript></div>
<div class="dwho"><a href="/user/Hex213/"><b>Hex213</b> (23)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i890875">
In second program.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn890875"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg890885"><span title="890885,140309,1023,149,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg890885" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTma6e483bfde" title="Tue, 22 Dec 2015 19:08:04 +0000"></span><script type="text/javascript">WhenId('CH_zTma6e483bfde');</script><noscript>Dec 22, 2015 at 7:08pm UTC</noscript></div>
<div class="dwho"><a href="/user/Shadowwolf/"><b>Shadowwolf</b> (149)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i890885">
I suspect your access denied error is generated by the system call. You could try forcing a delete by using "erase /F /Q " to force a delete. I wouldn't use this program setup however, it's an enormous security bug to let users erase a directory by force.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn890885"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg891234"><span title="891234,202910,1023,23,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg891234" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm1d1d051cf4" title="Thu, 24 Dec 2015 12:05:58 +0000"></span><script type="text/javascript">WhenId('CH_zTm1d1d051cf4');</script><noscript>Dec 24, 2015 at 12:05pm UTC</noscript></div>
<div class="dwho"><a href="/user/Hex213/"><b>Hex213</b> (23)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i891234">
I found that in command "remove(umiestnenie.c_str());" lists the error that the program uses a another process
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn891234"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg891241"><span title="891241,140309,1023,149,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg891241" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmf9eab8da7e" title="Thu, 24 Dec 2015 12:32:08 +0000"></span><script type="text/javascript">WhenId('CH_zTmf9eab8da7e');</script><noscript>Dec 24, 2015 at 12:32pm UTC</noscript></div>
<div class="dwho"><a href="/user/Shadowwolf/"><b>Shadowwolf</b> (149)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i891241">
There's probably a program active in the directory you are trying to delete. If a program has its working directory in the directory you are to delete, the delete command will fail with an access denied error. Make sure there are no programs running in this directory before you call delete. Of course I can't know for certain, since I do not know what directory you specified.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn891241"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg891245"><span title="891245,202910,1023,23,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg891245" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTma691e5d814" title="Thu, 24 Dec 2015 12:55:49 +0000"></span><script type="text/javascript">WhenId('CH_zTma691e5d814');</script><noscript>Dec 24, 2015 at 12:55pm UTC</noscript></div>
<div class="dwho"><a href="/user/Hex213/"><b>Hex213</b> (23)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i891245">
And I found that when the program starts again without first program, everything is fine. I think it'll be in the first program.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn891245"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg891272"><span title="891272,140309,1023,149,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg891272" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmcc609f7e9a" title="Thu, 24 Dec 2015 16:23:44 +0000"></span><script type="text/javascript">WhenId('CH_zTmcc609f7e9a');</script><noscript>Dec 24, 2015 at 4:23pm UTC</noscript></div>
<div class="dwho"><a href="/user/Shadowwolf/"><b>Shadowwolf</b> (149)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i891272">
Is your first program in the directory you are trying to delete? If so, then of course it doesn't work when the first is still active, it has its working directory there.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn891272"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg891446"><span title="891446,202910,1023,23,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg891446" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmb46846304c" title="Sat, 26 Dec 2015 13:44:50 +0000"></span><script type="text/javascript">WhenId('CH_zTmb46846304c');</script><noscript>Dec 26, 2015 at 1:44pm UTC</noscript></div>
<div class="dwho"><a href="/user/Hex213/"><b>Hex213</b> (23)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i891446">
No, both programs elsewhere than the file I want to delete.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn891446"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg891553"><span title="891553,140309,1023,149,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg891553" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm10beed0f0d" title="Sun, 27 Dec 2015 11:13:17 +0000"></span><script type="text/javascript">WhenId('CH_zTm10beed0f0d');</script><noscript>Dec 27, 2015 at 11:13am UTC</noscript></div>
<div class="dwho"><a href="/user/Shadowwolf/"><b>Shadowwolf</b> (149)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i891553">
In the code of your first application, what is the value of <span class="auto"><code class="source">Directory</code></span>? Especially here:<br>
<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>&nbsp;</code></pre></td>
<td class="source"><pre><code>LAST1 &lt;&lt; Directory;</code></pre></td><td class="C_btnholder"></td></tr></table></div>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn891553"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg891693"><span title="891693,202910,1023,23,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg891693" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm8531dcbf71" title="Mon, 28 Dec 2015 09:48:49 +0000"></span><script type="text/javascript">WhenId('CH_zTm8531dcbf71');</script><noscript>Dec 28, 2015 at 9:48am UTC</noscript></div>
<div class="dwho"><a href="/user/Hex213/"><b>Hex213</b> (23)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i891693">
Location determines person but never does not work. When I enter any location always show me access denied.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn891693"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg891753"><span title="891753,140309,1023,149,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg891753" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm6bea9fd3b0" title="Mon, 28 Dec 2015 16:39:15 +0000"></span><script type="text/javascript">WhenId('CH_zTm6bea9fd3b0');</script><noscript>Dec 28, 2015 at 4:39pm UTC</noscript></div>
<div class="dwho"><a href="/user/Shadowwolf/"><b>Shadowwolf</b> (149)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i891753">
I believe you are using the wrong command to delete the folder. Windows will only delete empty folders using this command. You can use the RD command (Remove Directory) to delete a directory and all its subfiles. An example:<br>
<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>&nbsp;</code></pre></td>
<td class="source"><pre><code>string B = <kbd>"RD /S /Q "</kbd> + Directory;</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
<br>
The /S switch means recursive, it will delete all files in the folder as well as the folder itself.<br>
The /Q switch means quiet, it will not ask the user for confirmation.<br>
<br>
This should solve your problem, I tested it on my own PC (Windows 10, 64-bit) and the program deleted the given folder just fine.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn891753"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg891937"><span title="891937,202910,1023,23,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg891937" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm0a9ceb10eb" title="Tue, 29 Dec 2015 20:19:42 +0000"></span><script type="text/javascript">WhenId('CH_zTm0a9ceb10eb');</script><noscript>Dec 29, 2015 at 8:19pm UTC</noscript></div>
<div class="dwho"><a href="/user/Hex213/"><b>Hex213</b> (23)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i891937">
Only one file I would like to erase. If it was not work, I will be remake my programs. So for now thank you.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn891937"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg892067"><span title="892067,140309,1023,149,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg892067" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmede3773b4d" title="Wed, 30 Dec 2015 11:29:18 +0000"></span><script type="text/javascript">WhenId('CH_zTmede3773b4d');</script><noscript>Dec 30, 2015 at 11:29am UTC</noscript></div>
<div class="dwho"><a href="/user/Shadowwolf/"><b>Shadowwolf</b> (149)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i892067">
For single files you can use the "DEL" command. I thought by the variable name (Directory) that you intended to erase an entire directory, in that case "RD" would solve the problem.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn892067"></span>

</div>
</div>
</div>
</div><div class="rootinsMore"></div><div class="rootbtnMore"></div><div class="rootinsNew"></div><div class="rootbtnNew"></div><div id="CH_insNew"></div><div id="CH_reply">Topic archived. No new replies allowed.</div><div id="CH_subscription"></div><div class="rootedtNew"></div><script type="text/javascript">new for_PostList(181460,1,202910,1,'CH_PostList','CH_subscription','CH_reply','CH_insNew','CH_edttl','/forum/thread.cgi','/forum/post.cgi','/forum/myposts.cgi',64,32,512,256,1024,16);</script></div>
<script type="text/javascript">
    google_ad_client = "ca-pub-1444228343479937";
    google_ad_slot = "9701143201";
    google_ad_width = 728;
    google_ad_height = 90;
</script>
<!-- leaderboard -->
<script type="text/javascript"
src="//pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div>
<div id="I_nav">
<div class="sect root">
<h3><b><a href="/">C++</a></b></h3>
<ul>
<li class="folder info"><a href="/info/">Information</a></li>
<li class="folder doc"><a href="/doc/">Tutorials</a></li>
<li class="folder reference"><a href="/reference/">Reference</a></li>
<li class="folder articles"><a href="/articles/">Articles</a></li>
<li class="folder selected forum"><a href="/forum/">Forum</a></li>
</ul>
</div>
<div class="sect">
<h3><b><a href="/forum/">Forum</a></b></h3>
<ul>
<li><a href="/forum/beginner/"><b>Beginners</b></a></li><li class="selected"><a href="/forum/windows/"><b>Windows Programming</b></a></li><li><a href="/forum/unices/"><b>UNIX/Linux Programming</b></a></li><li><a href="/forum/general/"><b>General C++ Programming</b></a></li><li><a href="/forum/lounge/"><b>Lounge</b></a></li><li><a href="/forum/jobs/"><b>Jobs</b></a></li></ul>
</div>
<div id="I_subnav"></div>
<div class="C_ad234">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-7688470879129516";
google_ad_slot = "7445514729";
google_ad_width = 234;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div></div>
<div id="I_midclear"></div>
</div>
</div>
<div id="I_bottom">
<div id="I_footer">
	<a href="/">Home page</a> | <a href="/privacy.do">Privacy policy</a><br>&copy; cplusplus.com, 2000-2016 - All rights reserved - <i>v3.1</i><br><a href="/contact.do?referrer=www.cplusplus.com%2Fforum%2Fwindows%2F181460%2F">Spotted an error? contact us</a>
</div>
</div>

<script type="text/javascript">
<!--
function NavFor(us) {document.getElementById('I_subnav').innerHTML=us.ok?'<div class="sect"><h3><b><a href="/user/">'+us.user+'</a></b></h3><ul><li><a href="/forum/myposts.cgi">My topics</a></li></ul></div>':'';}onSession(NavFor);ready();
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-521783-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//-->
</script>

</body>
</html>