<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>undefined reference to `LeaveCriticalSec - C++ Forum</title>
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
<link rel="stylesheet" type="text/css" href="/v321/main.css">
<script src="/v321/main.js" type="text/javascript"></script>
<script type='text/javascript'>
var googletag = googletag || {};
googletag.cmd = googletag.cmd || [];
(function() {
var gads = document.createElement('script');
gads.async = true;
gads.type = 'text/javascript';
var useSSL = 'https:' == document.location.protocol;
gads.src = (useSSL ? 'https:' : 'http:') + 
'//www.googletagservices.com/tag/js/gpt.js';
var node = document.getElementsByTagName('script')[0];
node.parentNode.insertBefore(gads, node);
})();
</script>

<script type='text/javascript'>
googletag.cmd.push(function() {
googletag.defineSlot('/32882001/L', [728, 90], 'div-gpt-ad-1427191279638-0').addService(googletag.pubads());
googletag.enableServices();
});
</script>
</head>
<body>
<div id="I_top">
<div id="I_header">
<div id="I_logo"><a href="/" title="cplusplus.com"><div></div></a></div>
<div id="I_search">
<form id="search" action="/search.do" method="get">
Search: <input name="q" size="20" class="txt"> <input type="submit" value="Go" class="btn">
</form>
</div>
<div id="I_bar">
<ul>
<li><a href="/forum/">Forum</a></li>
<li><a href="/forum/windows/">Windows Programming</a></li>
<li class="here">undefined reference to `LeaveCriticalSec</li>
</ul>
</div>
<div id="I_user" class="C_LoginBox"><span title="ajax"></span></div>
</div>
</div>
<div id="I_mid">
<div id="I_wrap">
<div id="I_minheight"></div>
<div id="I_main">
<div class="C_support">
<div id='div-gpt-ad-1427191279638-0' style='width:728px; height:90px;'>
<script type='text/javascript'>
googletag.cmd.push(function() { googletag.display('div-gpt-ad-1427191279638-0'); });
</script>
</div>
</div>
<div id="I_content">
<h3><div class="C_ico default" title="post">&nbsp;</div> undefined reference to `LeaveCriticalSection@4'</h3><span id="CH_edttl"></span><span class="rootdatPost" title="184677,root,0,-1,9,0"></span><div id="CH_PostList"><div class="C_forPost" id="msg902619"><span title="902619,141383,1023,11,1"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg902619" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmb127c2ec29" title="Tue, 16 Feb 2016 03:09:00 +0000"></span><script type="text/javascript">WhenId('CH_zTmb127c2ec29');</script><noscript>Feb 16, 2016 at 3:09am UTC</noscript></div>
<div class="dwho"><a href="/user/Fractal_Cat/"><b>Fractal Cat</b> (11)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i902619">
Hi,<br>
<br>
I've been struggling for the last few days to resolve this really annoying code problem.  I have been trying to compile a piece of code from the OpenGL Red-book<br>
and I keep getting a 'undefined reference to `LeaveCriticalSection@4' error.  Now I know that to resolve this problem I should link in the kernel32.dll file into my linker options.  The thing is it's there already!  I can successfully specify the dll in the linker libraries and the compiler does not complain that it can't be found.  So does anyone have a suggestions, because I'm stumped.<br>
<br>
Thx<br>
<br>
FC.<br>
<br>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn902619"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg902663"><span title="902663,199131,1023,610,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg902663" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm2b7b0b9c51" title="Tue, 16 Feb 2016 09:44:58 +0000"></span><script type="text/javascript">WhenId('CH_zTm2b7b0b9c51');</script><noscript>Feb 16, 2016 at 9:44am UTC</noscript></div>
<div class="dwho"><a href="/user/Thomas1965/"><b>Thomas1965</b> (610)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i902663">
What compiler do you use? <br>
<br>
In Visual Studio you need to specify kernel32.lib not kernel32.dll
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn902663"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg902722"><span title="902722,141383,1023,11,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg902722" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTma3089117b2" title="Tue, 16 Feb 2016 16:02:08 +0000"></span><script type="text/javascript">WhenId('CH_zTma3089117b2');</script><noscript>Feb 16, 2016 at 4:02pm UTC</noscript></div>
<div class="dwho"><a href="/user/Fractal_Cat/"><b>Fractal Cat</b> (11)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i902722">
I have used Cygwin and MinGW compilers.  I have also used Netbeans and Codeblocks IDEs and I still get the same result in all of them.  I have linked in kernel32.dll in other projects without this error and things have been ok.  So I don't know what is wrong.<br>
<br>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn902722"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg902730"><span title="902730,29924,1023,5406,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg902730" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm89421cc95a" title="Tue, 16 Feb 2016 16:30:58 +0000"></span><script type="text/javascript">WhenId('CH_zTm89421cc95a');</script><noscript>Feb 16, 2016 at 4:30pm UTC</noscript></div>
<div class="dwho"><a href="/user/Computergeek01/"><b>Computergeek01</b> (5406)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i902730">
You're supposed to link to the library. For GCC compilers you should be linking to a file called "libkernel32.a". <br>
<br>
<table class="quote"><tr><th class="qh"><strong>OP</strong> wrote:</th></tr><tr><td class="qd">I have linked in kernel32.dll in other projects without this error and things have been ok.</td></tr></table><br>
That's because normally kernel32.dll is linked to your project whether you like it or not. But now you're using Cygwin which shuffles things up a bit. You'd be better off setting up a VM and installing whatever flavor of *nix you want then using Cygwin. Or dual boot if you would rather do it that way. It's not the products themselves that are the issue, it's that when people write documentation including the use of either one of these as a "solution" they are usually thinking of them as a magic bullet to solve all of the differences between *nix and Windows, but they leave out a ton of important crap. Personally I would rather perform my own dental surgery than use Cygwin or MSYS.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn902730"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg903094"><span title="903094,141383,1023,11,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg903094" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmbc02db2ed7" title="Wed, 17 Feb 2016 22:14:26 +0000"></span><script type="text/javascript">WhenId('CH_zTmbc02db2ed7');</script><noscript>Feb 17, 2016 at 10:14pm UTC</noscript></div>
<div class="dwho"><a href="/user/Fractal_Cat/"><b>Fractal Cat</b> (11)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i903094">
After years of using Cygwin and MinGW I have decided to stop using them because I've had no end of problems.  I've just discovered that Microsoft have released Visual Studio Community Edition 2015, so I'm gonna try that.  I think I'll still use Netbeans for Java development though.<br>
<br>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn903094"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg903113"><span title="903113,17129,1023,7936,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg903113" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm735c38a15d" title="Wed, 17 Feb 2016 23:17:08 +0000"></span><script type="text/javascript">WhenId('CH_zTm735c38a15d');</script><noscript>Feb 17, 2016 at 11:17pm UTC</noscript></div>
<div class="dwho"><a href="/user/kbw/"><b>kbw</b> (7936)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i903113">
Community edition 2015 includes the MFC, it's pretty good for free software where C++ is concerned.<br>
<br>
Cygwin, that isn't a replacement for a native tool like VS.  You'll still need it.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn903113"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg903156"><span title="903156,156650,1023,564,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg903156" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmba6415a431" title="Thu, 18 Feb 2016 03:00:32 +0000"></span><script type="text/javascript">WhenId('CH_zTmba6415a431');</script><noscript>Feb 18, 2016 at 3:00am UTC</noscript></div>
<div class="dwho"><a href="/user/FurryGuy/"><b>FurryGuy</b> (564)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i903156">
@Fractal Cat,<br>
<br>
When you install VS 2015 make sure you do a custom install, Visual C++ is not installed with the typical install option.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn903156"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg903327"><span title="903327,29924,1023,5406,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg903327" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm0465ec5852" title="Thu, 18 Feb 2016 16:58:38 +0000"></span><script type="text/javascript">WhenId('CH_zTm0465ec5852');</script><noscript>Feb 18, 2016 at 4:58pm UTC</noscript></div>
<div class="dwho"><a href="/user/Computergeek01/"><b>Computergeek01</b> (5406)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i903327">
I'll say it again, a Virtual Machine is going to be your best friend when you are working on stuff like this. Modern hardware, even on economy class PC's, is more than capable of running two OS's at the same time. It won't take you longer than a day to setup and you'll save ten times that amount of work not fighting with Cygwin and\or MSYS in addition to a few other extraneous benefits.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn903327"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg903361"><span title="903361,141383,1023,11,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg903361" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmc885b72212" title="Thu, 18 Feb 2016 18:20:27 +0000"></span><script type="text/javascript">WhenId('CH_zTmc885b72212');</script><noscript>Feb 18, 2016 at 6:20pm UTC</noscript></div>
<div class="dwho"><a href="/user/Fractal_Cat/"><b>Fractal Cat</b> (11)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i903361">
Seeing as though we're discussing VS 2015, I've been trying to build some GLFW code.  Now, I can get it to work with Netbeans and Cygwin, but when I try to emulate it in VS it keeps reporting unresolved external symbols.  For some reason I can't build it   I've linked in the GLFW  libs but I'm still getting no joy.<br>
<br>
Here's an example of my problem, this is what keeps cropping up:<br>
<br>
LNK2019 unresolved external symbol "extern "C" void __cdecl glfwPollEvents(void)" (?glfwPollEvents@@$$JOYAXXZ referenced in function "int_ __cdecl main(void)<br>
<br>
Anyone any ideas ?<br>
<br>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn903361"></span>

</div>
</div>
</div>
</div><div class="rootinsMore"></div><div class="rootbtnMore"></div><div class="rootinsNew"></div><div class="rootbtnNew"></div><div id="CH_insNew"></div><div id="CH_reply">Registered users can post here. <a href="/user/">Sign in or register</a> to post.</div><div id="CH_subscription"></div><div class="rootedtNew"></div><script type="text/javascript">new for_PostList(184677,0,141383,0,'CH_PostList','CH_subscription','CH_reply','CH_insNew','CH_edttl','/forum/thread.cgi','/forum/post.cgi','/forum/myposts.cgi',64,32,512,256,1024,16);</script></div>
<script type="text/javascript">
    google_ad_client = "ca-pub-1444228343479937";
    google_ad_slot = "9701143201";
    google_ad_width = 728;
    google_ad_height = 90;
</script>
<!-- leaderboard -->
<script type="text/javascript"
src="//pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div>
<div id="I_nav">
<div class="sect root">
<h3><b><a href="/">C++</a></b></h3>
<ul>
<li class="folder info"><a href="/info/">Information</a></li>
<li class="folder doc"><a href="/doc/">Tutorials</a></li>
<li class="folder reference"><a href="/reference/">Reference</a></li>
<li class="folder articles"><a href="/articles/">Articles</a></li>
<li class="folder selected forum"><a href="/forum/">Forum</a></li>
</ul>
</div>
<div class="sect">
<h3><b><a href="/forum/">Forum</a></b></h3>
<ul>
<li><a href="/forum/beginner/"><b>Beginners</b></a></li><li class="selected"><a href="/forum/windows/"><b>Windows Programming</b></a></li><li><a href="/forum/unices/"><b>UNIX/Linux Programming</b></a></li><li><a href="/forum/general/"><b>General C++ Programming</b></a></li><li><a href="/forum/lounge/"><b>Lounge</b></a></li><li><a href="/forum/jobs/"><b>Jobs</b></a></li></ul>
</div>
<div id="I_subnav"></div>
<div class="C_ad234">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-7688470879129516";
google_ad_slot = "7445514729";
google_ad_width = 234;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div></div>
<div id="I_midclear"></div>
</div>
</div>
<div id="I_bottom">
<div id="I_footer">
	<a href="/">Home page</a> | <a href="/privacy.do">Privacy policy</a><br>&copy; cplusplus.com, 2000-2016 - All rights reserved - <i>v3.1</i><br><a href="/contact.do?referrer=www.cplusplus.com%2Fforum%2Fwindows%2F184677%2F">Spotted an error? contact us</a>
</div>
</div>

<script type="text/javascript">
<!--
function NavFor(us) {document.getElementById('I_subnav').innerHTML=us.ok?'<div class="sect"><h3><b><a href="/user/">'+us.user+'</a></b></h3><ul><li><a href="/forum/myposts.cgi">My topics</a></li></ul></div>':'';}onSession(NavFor);ready();
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-521783-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//-->
</script>

</body>
</html>