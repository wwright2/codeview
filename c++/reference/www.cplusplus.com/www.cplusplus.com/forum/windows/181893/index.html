<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>I can't load my own icon for my window - C++ Forum</title>
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
<link rel="stylesheet" type="text/css" href="/v321/main.css">
<script src="/v321/main.js" type="text/javascript"></script>
<script type='text/javascript'>
var googletag = googletag || {};
googletag.cmd = googletag.cmd || [];
(function() {
var gads = document.createElement('script');
gads.async = true;
gads.type = 'text/javascript';
var useSSL = 'https:' == document.location.protocol;
gads.src = (useSSL ? 'https:' : 'http:') + 
'//www.googletagservices.com/tag/js/gpt.js';
var node = document.getElementsByTagName('script')[0];
node.parentNode.insertBefore(gads, node);
})();
</script>

<script type='text/javascript'>
googletag.cmd.push(function() {
googletag.defineSlot('/32882001/L', [728, 90], 'div-gpt-ad-1427191279638-0').addService(googletag.pubads());
googletag.enableServices();
});
</script>
</head>
<body>
<div id="I_top">
<div id="I_header">
<div id="I_logo"><a href="/" title="cplusplus.com"><div></div></a></div>
<div id="I_search">
<form id="search" action="/search.do" method="get">
Search: <input name="q" size="20" class="txt"> <input type="submit" value="Go" class="btn">
</form>
</div>
<div id="I_bar">
<ul>
<li><a href="/forum/">Forum</a></li>
<li><a href="/forum/windows/">Windows Programming</a></li>
<li class="here">I can't load my own icon for my window</li>
</ul>
</div>
<div id="I_user" class="C_LoginBox"><span title="ajax"></span></div>
</div>
</div>
<div id="I_mid">
<div id="I_wrap">
<div id="I_minheight"></div>
<div id="I_main">
<div class="C_support">
<div id='div-gpt-ad-1427191279638-0' style='width:728px; height:90px;'>
<script type='text/javascript'>
googletag.cmd.push(function() { googletag.display('div-gpt-ad-1427191279638-0'); });
</script>
</div>
</div>
<div id="I_content">
<h3><div class="C_ico solved" title="solved">&nbsp;</div> I can't load my own icon for my window</h3><span id="CH_edttl"></span><span class="rootdatPost" title="181893,root,0,-1,10,0"></span><div id="CH_PostList"><div class="C_forPost" id="msg891832"><span title="891832,205155,255,12,1"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg891832" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmb3f005a336" title="Tue, 29 Dec 2015 07:56:52 +0000"></span><script type="text/javascript">WhenId('CH_zTmb3f005a336');</script><noscript>Dec 29, 2015 at 7:56am UTC</noscript></div>
<div class="dwho"><a href="/user/Sharpchain/"><b>Sharpchain</b> (12)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i891832">
Ok so i was able to successfuly make my own window and so now im trying to load my own icon to the window so that it will appear in upper left corner but I can't figure out how to do it I have tried this<br>
<br>
 winClass.hIcon = LoadIcon(hInstance, "C:\Users\Public\Pictures\Sample Pictures\Desert.jpg");<br>
<br>
and <br>
<br>
 winClass.hIcon = LoadIcon(hInstance, MAKEINTRESOURCE("C:\Users\Public\Pictures\Sample Pictures\Desert.jpg"));<br>
<br>
but it won't work help me out plz?
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn891832"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg891841"><span title="891841,199131,1023,610,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg891841" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm346a322053" title="Tue, 29 Dec 2015 09:56:43 +0000"></span><script type="text/javascript">WhenId('CH_zTm346a322053');</script><noscript>Dec 29, 2015 at 9:56am UTC</noscript></div>
<div class="dwho"><a href="/user/Thomas1965/"><b>Thomas1965</b> (610)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i891841">
LoadIcon load an icon from the executable file so you have to use a resource file.<br>
<a href="https://msdn.microsoft.com/en-us/library/windows/desktop/ms648072%28v=vs.85%29.aspx">https://msdn.microsoft.com/en-us/library/windows/desktop/ms648072%28v=vs.85%29.aspx</a><br>
<a href="http://www.winprog.org/tutorial/resources.html">http://www.winprog.org/tutorial/resources.html</a>
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn891841"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg891919"><span title="891919,205155,255,12,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg891919" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm13488dbe1f" title="Tue, 29 Dec 2015 18:40:56 +0000"></span><script type="text/javascript">WhenId('CH_zTm13488dbe1f');</script><noscript>Dec 29, 2015 at 6:40pm UTC</noscript></div>
<div class="dwho"><a href="/user/Sharpchain/"><b>Sharpchain</b> (12)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i891919">
That didnt help any when i did what that tutorial said it just kept underlining my IDI_MyIcon in red no matter what i did, I added #include "resource.h" and everything nothing i did worked
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn891919"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg891920"><span title="891920,205155,255,12,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg891920" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm8cb8bff541" title="Tue, 29 Dec 2015 18:44:05 +0000"></span><script type="text/javascript">WhenId('CH_zTm8cb8bff541');</script><noscript>Dec 29, 2015 at 6:44pm UTC</noscript></div>
<div class="dwho"><a href="/user/Sharpchain/"><b>Sharpchain</b> (12)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i891920">
btw i am using Visual Studio 2013
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn891920"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg891932"><span title="891932,156650,1023,564,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg891932" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmc0cd1632dc" title="Tue, 29 Dec 2015 19:51:29 +0000"></span><script type="text/javascript">WhenId('CH_zTmc0cd1632dc');</script><noscript>Dec 29, 2015 at 7:51pm UTC</noscript></div>
<div class="dwho"><a href="/user/FurryGuy/"><b>FurryGuy</b> (564)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i891932">
JPeg files don't work as icons, you will have to convert the jpeg into an icon file.<br>
<br>
<a href="http://smallbusiness.chron.com/create-icon-file-jpg-54591.html">http://smallbusiness.chron.com/create-icon-file-jpg-54591.html</a><br>
<br>
The LoadIcon() function has been superseded, you should use LoadImage().<br>
<br>
LoadImage() will allow you to load a cursor, icon or bitmap from a file, it won't work with jpegs.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn891932"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg891978"><span title="891978,205155,255,12,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg891978" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmc45e600e80" title="Wed, 30 Dec 2015 02:38:03 +0000"></span><script type="text/javascript">WhenId('CH_zTmc45e600e80');</script><noscript>Dec 30, 2015 at 2:38am UTC</noscript></div>
<div class="dwho"><a href="/user/Sharpchain/"><b>Sharpchain</b> (12)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i891978">
Ok so i was able to convert an image i wanted to use to a .ico file and i got it put in Resource Files and this is what i put in <br>
<br>
winClass.hIcon = (HICON)LoadImage(NULL, L"DominiStudios_Icon.ico", IMAGE_ICON, 32, 32, LR_LOADFROMFILE);<br>
<br>
and the window icon stays the same EVERY TIME it wont change
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn891978"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg891987"><span title="891987,156650,1023,564,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg891987" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm2e7097d553" title="Wed, 30 Dec 2015 03:27:33 +0000"></span><script type="text/javascript">WhenId('CH_zTm2e7097d553');</script><noscript>Dec 30, 2015 at 3:27am UTC</noscript></div>
<div class="dwho"><a href="/user/FurryGuy/"><b>FurryGuy</b> (564)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i891987">
If you are loading an icon as a resource you do NOT use LR_LOADFROMFILE.<br>
<br>
<a href="https://msdn.microsoft.com/en-us/library/windows/desktop/ms648045%28v=vs.85%29.aspx">https://msdn.microsoft.com/en-us/library/windows/desktop/ms648045%28v=vs.85%29.aspx</a><br>
<br>
If I use an icon as a resource I first define the resource:<br>
<br>
resource.rc<br>
<span class="auto"><code class="source">TheIcon ICON icon.ico</code></span><br>
<br>
And then load it from the resource:<br>
<span class="auto"><code class="source">wc.hIcon = (HICON) LoadImage(hInstance, L<kbd>"TheIcon"</kbd>, IMAGE_ICON, 0, 0, LR_DEFAULTCOLOR);</code></span><br>
<br>
--------------<br>
<br>
Or I create an ordinal to define the icon resource:<br>
<br>
resource.h<br>
<span class="auto"><code class="source"><dfn>#define  IDI_ICON 1001 </dfn></code></span><br>
<br>
resource.rc<br>
<span class="auto"><code class="source">IDI_ICON ICON <kbd>"icon.ico"</kbd></code></span><br>
<br>
and then load the icon<br>
<span class="auto"><code class="source">wc.hIcon = (HICON) LoadImage(hInstance, MAKEINTRESOURCE(IDI_ICON), IMAGE_ICON, 0, 0, LR_DEFAULTCOLOR);</code></span>
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn891987"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg891989"><span title="891989,156650,1023,564,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg891989" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm9844fd5086" title="Wed, 30 Dec 2015 03:32:47 +0000"></span><script type="text/javascript">WhenId('CH_zTm9844fd5086');</script><noscript>Dec 30, 2015 at 3:32am UTC</noscript></div>
<div class="dwho"><a href="/user/FurryGuy/"><b>FurryGuy</b> (564)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i891989">
If you want to load your icon from a file:<br>
<span class="auto"><code class="source">wc.hIcon = (HICON) LoadImage(NULL, L<kbd>"icon.ico"</kbd>, IMAGE_ICON, 0, 0, LR_LOADFROMFILE);</code></span><br>
<br>
Personally I prefer to just create a resource and load from the resource so you don't have to worry where the icon file is located when the program runs.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn891989"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg892006"><span title="892006,205155,255,12,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg892006" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmcda2541900" title="Wed, 30 Dec 2015 05:36:03 +0000"></span><script type="text/javascript">WhenId('CH_zTmcda2541900');</script><noscript>Dec 30, 2015 at 5:36am UTC</noscript></div>
<div class="dwho"><a href="/user/Sharpchain/"><b>Sharpchain</b> (12)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i892006">
OMG how r u doing this!!?? whenever i do the "TheIcon ICON icon.ico" stuff it gets underlined in  red and the program wont run
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn892006"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg892007"><span title="892007,205155,255,12,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg892007" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm7a810aa316" title="Wed, 30 Dec 2015 05:41:10 +0000"></span><script type="text/javascript">WhenId('CH_zTm7a810aa316');</script><noscript>Dec 30, 2015 at 5:41am UTC</noscript></div>
<div class="dwho"><a href="/user/Sharpchain/"><b>Sharpchain</b> (12)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i892007">
:O sry i found the problem lol i typed something in wrong #troubleshooting skillz xD
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn892007"></span>

</div>
</div>
</div>
</div><div class="rootinsMore"></div><div class="rootbtnMore"></div><div class="rootinsNew"></div><div class="rootbtnNew"></div><div id="CH_insNew"></div><div id="CH_reply">Topic archived. No new replies allowed.</div><div id="CH_subscription"></div><div class="rootedtNew"></div><script type="text/javascript">new for_PostList(181893,1,205155,1,'CH_PostList','CH_subscription','CH_reply','CH_insNew','CH_edttl','/forum/thread.cgi','/forum/post.cgi','/forum/myposts.cgi',64,32,512,256,1024,16);</script></div>
<script type="text/javascript">
    google_ad_client = "ca-pub-1444228343479937";
    google_ad_slot = "9701143201";
    google_ad_width = 728;
    google_ad_height = 90;
</script>
<!-- leaderboard -->
<script type="text/javascript"
src="//pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div>
<div id="I_nav">
<div class="sect root">
<h3><b><a href="/">C++</a></b></h3>
<ul>
<li class="folder info"><a href="/info/">Information</a></li>
<li class="folder doc"><a href="/doc/">Tutorials</a></li>
<li class="folder reference"><a href="/reference/">Reference</a></li>
<li class="folder articles"><a href="/articles/">Articles</a></li>
<li class="folder selected forum"><a href="/forum/">Forum</a></li>
</ul>
</div>
<div class="sect">
<h3><b><a href="/forum/">Forum</a></b></h3>
<ul>
<li><a href="/forum/beginner/"><b>Beginners</b></a></li><li class="selected"><a href="/forum/windows/"><b>Windows Programming</b></a></li><li><a href="/forum/unices/"><b>UNIX/Linux Programming</b></a></li><li><a href="/forum/general/"><b>General C++ Programming</b></a></li><li><a href="/forum/lounge/"><b>Lounge</b></a></li><li><a href="/forum/jobs/"><b>Jobs</b></a></li></ul>
</div>
<div id="I_subnav"></div>
<div class="C_ad234">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-7688470879129516";
google_ad_slot = "7445514729";
google_ad_width = 234;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div></div>
<div id="I_midclear"></div>
</div>
</div>
<div id="I_bottom">
<div id="I_footer">
	<a href="/">Home page</a> | <a href="/privacy.do">Privacy policy</a><br>&copy; cplusplus.com, 2000-2016 - All rights reserved - <i>v3.1</i><br><a href="/contact.do?referrer=www.cplusplus.com%2Fforum%2Fwindows%2F181893%2F">Spotted an error? contact us</a>
</div>
</div>

<script type="text/javascript">
<!--
function NavFor(us) {document.getElementById('I_subnav').innerHTML=us.ok?'<div class="sect"><h3><b><a href="/user/">'+us.user+'</a></b></h3><ul><li><a href="/forum/myposts.cgi">My topics</a></li></ul></div>':'';}onSession(NavFor);ready();
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-521783-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//-->
</script>

</body>
</html>