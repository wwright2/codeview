<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Code Blocks Error, SDL - C++ Forum</title>
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
<link rel="stylesheet" type="text/css" href="/v321/main.css">
<script src="/v321/main.js" type="text/javascript"></script>
<script type='text/javascript'>
var googletag = googletag || {};
googletag.cmd = googletag.cmd || [];
(function() {
var gads = document.createElement('script');
gads.async = true;
gads.type = 'text/javascript';
var useSSL = 'https:' == document.location.protocol;
gads.src = (useSSL ? 'https:' : 'http:') + 
'//www.googletagservices.com/tag/js/gpt.js';
var node = document.getElementsByTagName('script')[0];
node.parentNode.insertBefore(gads, node);
})();
</script>

<script type='text/javascript'>
googletag.cmd.push(function() {
googletag.defineSlot('/32882001/L', [728, 90], 'div-gpt-ad-1427191279638-0').addService(googletag.pubads());
googletag.enableServices();
});
</script>
</head>
<body>
<div id="I_top">
<div id="I_header">
<div id="I_logo"><a href="/" title="cplusplus.com"><div></div></a></div>
<div id="I_search">
<form id="search" action="/search.do" method="get">
Search: <input name="q" size="20" class="txt"> <input type="submit" value="Go" class="btn">
</form>
</div>
<div id="I_bar">
<ul>
<li><a href="/forum/">Forum</a></li>
<li><a href="/forum/windows/">Windows Programming</a></li>
<li class="here">Code Blocks Error, SDL</li>
</ul>
</div>
<div id="I_user" class="C_LoginBox"><span title="ajax"></span></div>
</div>
</div>
<div id="I_mid">
<div id="I_wrap">
<div id="I_minheight"></div>
<div id="I_main">
<div class="C_support">
<div id='div-gpt-ad-1427191279638-0' style='width:728px; height:90px;'>
<script type='text/javascript'>
googletag.cmd.push(function() { googletag.display('div-gpt-ad-1427191279638-0'); });
</script>
</div>
</div>
<div id="I_content">
<h3><div class="C_ico default" title="post">&nbsp;</div> Code Blocks Error, SDL</h3><span id="CH_edttl"></span><span class="rootdatPost" title="184036,root,0,-1,8,0"></span><div id="CH_PostList"><div class="C_forPost" id="msg900217"><span title="900217,211128,255,4,1"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg900217" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm357e66492e" title="Sat, 06 Feb 2016 22:45:49 +0000"></span><script type="text/javascript">WhenId('CH_zTm357e66492e');</script><noscript>Feb 6, 2016 at 10:45pm UTC</noscript></div>
<div class="dwho"><a href="/user/Detoxifier/"><b>Detoxifier</b> (4)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i900217">
So I have been learning C++ for about 6 months now and just purchased a copy of "The Black Art of Multiplatform Game Programming".  <br>
<br>
This book recommends code::blocks, which I have not used before but I am willing to give it a go. I have gone through the process of linking and including and such for SDL. The first task is to make sure everything is set up correctly, which it appears to be.<br>
<br>
Source code:<br>
<br>
#include &lt;SDL.h&gt;<br>
<br>
int main(int argc, char* args[])<br>
{<br>
<br>
    SDL_Init(SDL_INIT_EVERYTHING);<br>
    printf("WINDOWS FTW!!!");<br>
    SDL_Quit();<br>
<br>
    return 0;<br>
<br>
<br>
}<br>
<br>
Except that I am getting these errors:<br>
<br>
E:\SDLcodeblocks\SDL-1.2.15\lib\x86/SDLmain.lib(./Release/SDL_win32_main.obj):(.text[_main]+0x7): undefined reference to `__security_cookie'<br>
E:\SDLcodeblocks\SDL-1.2.15\lib\x86/SDLmain.lib(./Release/SDL_win32_main.obj):(.text[_main]+0x99): undefined reference to `_alloca_probe_16'<br>
E:\SDLcodeblocks\SDL-1.2.15\lib\x86/SDLmain.lib(./Release/SDL_win32_main.obj):(.text[_main]+0x14e): undefined reference to `@__security_check_cookie@4'<br>
<br>
Can anyone tell me what these errors are and how I fix them?<br>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn900217"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg900238"><span title="900238,207254,1023,178,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg900238" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm5b93166866" title="Sat, 06 Feb 2016 23:49:10 +0000"></span><script type="text/javascript">WhenId('CH_zTm5b93166866');</script><noscript>Feb 6, 2016 at 11:49pm UTC</noscript></div>
<div class="dwho"><a href="/user/RUNNER_PRO_AGARIO/"><b>RUNNER PRO AGARIO</b> (178)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i900238">
If it shows undefined reference errors, that means you have a linker error. I know this from editing cmd apps, and i would get the same errors for not linking properly.<br>
<br>
What I'm saying is to relink your libraries and check again.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn900238"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg900254"><span title="900254,211128,255,4,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg900254" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTma474666183" title="Sun, 07 Feb 2016 00:47:15 +0000"></span><script type="text/javascript">WhenId('CH_zTma474666183');</script><noscript>Feb 7, 2016 at 12:47am UTC</noscript></div>
<div class="dwho"><a href="/user/Detoxifier/"><b>Detoxifier</b> (4)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i900254">
Except that is not what is going on here.  The libraries are linked properly. I know this because I had a problem with that and fixed it.  These security cookies and security checks are related to buffer overflow (at least according to about 30 forums I found with google).<br>
<br>
The only solution I have found seems to be to link it to bufferoverflowu, but I have not found anything beyond "Its an easy fix! just link bufferoverflowu!"....I have no idea where to find bufferoverflowu, or exactly how to link it if I do.  I am at a complete loss.<br>
<br>
Also, everything on the subject seems to be about 10 years old and I am using the newest codeblocks so I have no idea how why this is happening.
</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTm0fb1b926ba" title="Sun, 07 Feb 2016 00:52:28 +0000"></span><script type="text/javascript">WhenId('CH_zTm0fb1b926ba');</script><noscript>Feb 7, 2016 at 12:52am UTC</noscript></span>
<span class="dbtn" id="CH_btn900254"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg900310"><span title="900310,143950,1023,109,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg900310" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm3f4b5d1966" title="Sun, 07 Feb 2016 05:45:01 +0000"></span><script type="text/javascript">WhenId('CH_zTm3f4b5d1966');</script><noscript>Feb 7, 2016 at 5:45am UTC</noscript></div>
<div class="dwho"><a href="/user/wizebin/"><b>wizebin</b> (109)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i900310">
Here's a copy of the .cbp &lt;linker&gt; section for one of my more recent sdl games, compare with yours, order matters in the SDL string. If you're using a direct directory instead of SDL options like I am yours will be different.<br>
<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br></code></pre></td>
<td class="source"><pre><code>&lt;Linker&gt;
			&lt;Add option=<kbd>"-lmingw32 -lSDLmain -lSDL -lSDL_image -lSDL_ttf -lSDL_mixer"</kbd> /&gt;
			&lt;Add library=<kbd>"libs\libadvapi32.a"</kbd> /&gt;
			&lt;Add library=<kbd>"libs\libmswsock.a"</kbd> /&gt;
			&lt;Add library=<kbd>"libs\libwinmm.a"</kbd> /&gt;
			&lt;Add library=<kbd>"libs\libws2_32.a"</kbd> /&gt;
			&lt;Add directory=<kbd>"..\..\Libraries\SDL-1.2.14\lib"</kbd> /&gt;
		&lt;/Linker&gt;</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
<br>
Notice I'm using 1.2 SDL- this will also be different with SDL2 (nevermind you're using 1.2)<br>
<br>
If you would like to post the relevant section from your .cbp project file maybe I will be able to point you in the right direction. Have you added any additional libraries?<br>
<br>
An undefined reference means you're missing a .a or it is in the wrong order (I have included several extras you wouldn't need) <br>
<br>
Looking at that particular error it looks like one that comes from a GS flag in visual studio, if you want to find those libraries they would be in the win32 microsoft SDK or the driver SDK. Both of which can be downloaded via microsoft's website.
</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTm2bf095c50a" title="Sun, 07 Feb 2016 05:45:46 +0000"></span><script type="text/javascript">WhenId('CH_zTm2bf095c50a');</script><noscript>Feb 7, 2016 at 5:45am UTC</noscript></span>
<span class="dbtn" id="CH_btn900310"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg900430"><span title="900430,211128,255,4,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg900430" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm660c6fee8f" title="Sun, 07 Feb 2016 18:26:29 +0000"></span><script type="text/javascript">WhenId('CH_zTm660c6fee8f');</script><noscript>Feb 7, 2016 at 6:26pm UTC</noscript></div>
<div class="dwho"><a href="/user/Detoxifier/"><b>Detoxifier</b> (4)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i900430">
Settings, Compiler, Global Compiler Settings, Linker Settings, Other Linker options:<br>
<br>
-lmingw32<br>
-lSDLmain<br>
-lSDL<br>
-lSDL_image<br>
-lSDL_ttf<br>
-lSDL_mixer<br>
<br>
I hope this is what you are asking for, and thank you for taking the time to reply.  I have been learning c++ for about six months and so far the IDEs have been harder than learning the code.<br>
<br>
I downloaded the Microsoft SDK, and added bufferoverflowu to Link Libraries under Linker Settings and that cleared two of the errors!<br>
<br>
The two errors remaining now are:<br>
<br>
E:\SDLcodeblocks\SDL-1.2.15\lib\x86/SDLmain.lib(./Release/SDL_win32_main.obj):(.text[_main]+0x99): undefined reference to `_alloca_probe_16'<br>
<br>
and <br>
<br>
collect2.exe: error: ld returned 1 exit status<br>
<br>
<br>
From several of the forums (and what you are saying above) I have looked at in regards to this it seems I need to link to Winmm.a, but i don't have any .a files, only .lib files.  <br>
<br>
(I am running Win8.1)<br>

</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTmd66209b605" title="Sun, 07 Feb 2016 19:38:18 +0000"></span><script type="text/javascript">WhenId('CH_zTmd66209b605');</script><noscript>Feb 7, 2016 at 7:38pm UTC</noscript></span>
<span class="dbtn" id="CH_btn900430"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg900480"><span title="900480,143950,1023,109,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg900480" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTmd2a217e8f2" title="Sun, 07 Feb 2016 20:56:41 +0000"></span><script type="text/javascript">WhenId('CH_zTmd2a217e8f2');</script><noscript>Feb 7, 2016 at 8:56pm UTC</noscript></div>
<div class="dwho"><a href="/user/wizebin/"><b>wizebin</b> (109)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i900480">
winmm.a and winmm.lib are the same (almost) .lib is usually used for the microsoft compiler whereas .a is generally used for gcc/g++ <br>
<br>
I don't know what compiler you've chosen to use with code::blocks, but go ahead and try your winmm.lib or if you're using mingw it will be in the mingw lib subfolder.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn900480"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg900503"><span title="900503,211128,255,4,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg900503" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm3ca16ac36c" title="Sun, 07 Feb 2016 22:47:42 +0000"></span><script type="text/javascript">WhenId('CH_zTm3ca16ac36c');</script><noscript>Feb 7, 2016 at 10:47pm UTC</noscript></div>
<div class="dwho"><a href="/user/Detoxifier/"><b>Detoxifier</b> (4)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i900503">
I have tried both of them about a dozen different ways.<br>
<br>
I am using Mingw.<br>
<br>
I am still fairly new to this so its possible i could be doing something incorrectly, and the more descriptive an answer the better. Thanks for helping so far.<br>
<br>
Any idea what I might be doing wrong at this point?  Or is there a best way I should do the linking to prevent errors?
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn900503"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg900507"><span title="900507,143950,1023,109,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg900507" title="Link to this post"><img src="/img/link.png" width="16" height="8"></a> <span id="CH_zTm4895152dc5" title="Sun, 07 Feb 2016 22:57:21 +0000"></span><script type="text/javascript">WhenId('CH_zTm4895152dc5');</script><noscript>Feb 7, 2016 at 10:57pm UTC</noscript></div>
<div class="dwho"><a href="/user/wizebin/"><b>wizebin</b> (109)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i900507">
I have a couple ideas, the most likely issue is the version of SDL you're using. Shoot me a PM and we can get it figured out from here and post the results here for others to follow.<br>
<br>
In case Detoxifier forgets: he was using a version of SDL built for Visual Studio instead of the mingw version.
</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTm149093b369" title="Tue, 09 Feb 2016 01:09:37 +0000"></span><script type="text/javascript">WhenId('CH_zTm149093b369');</script><noscript>Feb 9, 2016 at 1:09am UTC</noscript></span>
<span class="dbtn" id="CH_btn900507"></span>

</div>
</div>
</div>
</div><div class="rootinsMore"></div><div class="rootbtnMore"></div><div class="rootinsNew"></div><div class="rootbtnNew"></div><div id="CH_insNew"></div><div id="CH_reply">Registered users can post here. <a href="/user/">Sign in or register</a> to post.</div><div id="CH_subscription"></div><div class="rootedtNew"></div><script type="text/javascript">new for_PostList(184036,0,211128,0,'CH_PostList','CH_subscription','CH_reply','CH_insNew','CH_edttl','/forum/thread.cgi','/forum/post.cgi','/forum/myposts.cgi',64,32,512,256,1024,16);</script></div>
<script type="text/javascript">
    google_ad_client = "ca-pub-1444228343479937";
    google_ad_slot = "9701143201";
    google_ad_width = 728;
    google_ad_height = 90;
</script>
<!-- leaderboard -->
<script type="text/javascript"
src="//pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div>
<div id="I_nav">
<div class="sect root">
<h3><b><a href="/">C++</a></b></h3>
<ul>
<li class="folder info"><a href="/info/">Information</a></li>
<li class="folder doc"><a href="/doc/">Tutorials</a></li>
<li class="folder reference"><a href="/reference/">Reference</a></li>
<li class="folder articles"><a href="/articles/">Articles</a></li>
<li class="folder selected forum"><a href="/forum/">Forum</a></li>
</ul>
</div>
<div class="sect">
<h3><b><a href="/forum/">Forum</a></b></h3>
<ul>
<li><a href="/forum/beginner/"><b>Beginners</b></a></li><li class="selected"><a href="/forum/windows/"><b>Windows Programming</b></a></li><li><a href="/forum/unices/"><b>UNIX/Linux Programming</b></a></li><li><a href="/forum/general/"><b>General C++ Programming</b></a></li><li><a href="/forum/lounge/"><b>Lounge</b></a></li><li><a href="/forum/jobs/"><b>Jobs</b></a></li></ul>
</div>
<div id="I_subnav"></div>
<div class="C_ad234">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-7688470879129516";
google_ad_slot = "7445514729";
google_ad_width = 234;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div></div>
<div id="I_midclear"></div>
</div>
</div>
<div id="I_bottom">
<div id="I_footer">
	<a href="/">Home page</a> | <a href="/privacy.do">Privacy policy</a><br>&copy; cplusplus.com, 2000-2016 - All rights reserved - <i>v3.1</i><br><a href="/contact.do?referrer=www.cplusplus.com%2Fforum%2Fwindows%2F184036%2F">Spotted an error? contact us</a>
</div>
</div>

<script type="text/javascript">
<!--
function NavFor(us) {document.getElementById('I_subnav').innerHTML=us.ok?'<div class="sect"><h3><b><a href="/user/">'+us.user+'</a></b></h3><ul><li><a href="/forum/myposts.cgi">My topics</a></li></ul></div>':'';}onSession(NavFor);ready();
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-521783-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//-->
</script>

</body>
</html>