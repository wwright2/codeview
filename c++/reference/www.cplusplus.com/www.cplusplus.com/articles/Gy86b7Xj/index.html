<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Cleaner code - C++ Articles</title>
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
<link rel="stylesheet" type="text/css" href="/v321/main.css">
<script src="/v321/main.js" type="text/javascript"></script>
<script type='text/javascript'>
var googletag = googletag || {};
googletag.cmd = googletag.cmd || [];
(function() {
var gads = document.createElement('script');
gads.async = true;
gads.type = 'text/javascript';
var useSSL = 'https:' == document.location.protocol;
gads.src = (useSSL ? 'https:' : 'http:') + 
'//www.googletagservices.com/tag/js/gpt.js';
var node = document.getElementsByTagName('script')[0];
node.parentNode.insertBefore(gads, node);
})();
</script>

<script type='text/javascript'>
googletag.cmd.push(function() {
googletag.defineSlot('/32882001/L', [728, 90], 'div-gpt-ad-1427191279638-0').addService(googletag.pubads());
googletag.enableServices();
});
</script>
</head>
<body>
<div id="I_top">
<div id="I_header">
<div id="I_logo"><a href="/" title="cplusplus.com"><div></div></a></div>
<div id="I_search">
<form id="search" action="/search.do" method="get">
Search: <input name="q" size="20" class="txt"> <input type="submit" value="Go" class="btn">
</form>
</div>
<div id="I_bar">
<ul>
<li><a href="/articles/">Articles</a></li>
<li class="here">Cleaner code</li>
</ul>
</div>
<div id="I_user" class="C_LoginBox"><span title="ajax"></span></div>
</div>
</div>
<div id="I_mid">
<div id="I_wrap">
<div id="I_minheight"></div>
<div id="I_main">
<div id="I_content">
<div class="C_art">
<div id="I_author">Published by <b><a href="/user/Kyon/" rel="author">Kyon</a></b></div>
<div id="I_date">Jul 21, 2010 (last update: Aug 6, 2011)</div>
<h1>Cleaner code</h1>
<div id="I_score">Score: 3.8/5 (61 votes)</div>
<div id="I_stars"><img src="/ico/16star.png" width="16" height="16" alt="*"><img src="/ico/16star.png" width="16" height="16" alt="*"><img src="/ico/16star.png" width="16" height="16" alt="*"><img src="/ico/16star-half.png" width="16" height="16" alt="*"><img src="/ico/16star-empty.png" width="16" height="16" alt="*"></div>
<div id="I_content">
The reason for me to write this article is the fact that many people don't seem to know (or care) about code readability. Readability is the base for portability, re-usability and understandability (!).<br>
Without proper code you cannot ask help on these forums without getting complaints, so read carefully; these are some tips and tricks to clean up your code.<br>
<br>
This is a guideline, I do not say this is perfect. I just place a good way to do it, it's up to you to decide if you use it or not.<br>
<br>
This guide is not considered complete but should help you well on your way, all suggestions are welcome.<br>
<br>
<b>On Brackets</b>
Always put brackets on a empty line and put opening and closing brackets on the same "height" in your code. Anything that goes in between the two brackets should be tabbed to the right by a number which is consistent over all your code. (I use 4 spaces in my example) This style of bracketing is called, Allman style.<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br></code></pre></td>
<td class="source"><pre><code><dfn>#include &lt;iostream&gt;</dfn>

<var>using</var> std::cout;
<var>using</var> std::endl;

<var>int</var> main()
{
    <var>for</var>(<var>int</var> i = 0; i &lt; 9; i++)
    {
        cout &lt;&lt; i &lt;&lt; endl;
    }
    <var>return</var> 0;
}</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
There are, of course, other ways to do this. One is a slight variation of the Allman style: Whitesmith style. The brackets are put on the same level as the inner statements.<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br></code></pre></td>
<td class="source"><pre><code><dfn>#include &lt;iostream&gt;</dfn>

<var>using</var> std::cout;
<var>using</var> std::endl;

<var>int</var> main()
    {
    <var>for</var>(<var>int</var> i = 0; i &lt; 9; i++)
        {
        cout &lt;&lt; i &lt;&lt; endl;
        }
    <var>return</var> 0;
    }</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
When it is not important to see the text clearly, but rather see how different statements relate to one another (mainly if/else relationships), you can also use 1TBS (The One True Brace Style):<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br></code></pre></td>
<td class="source"><pre><code><dfn>#include &lt;iostream&gt;</dfn>

<var>using</var> std::cout;
<var>using</var> std::endl;

<var>int</var> main()
{
    <var>for</var>(<var>int</var> i = 0; i &lt; 9; i++)
    {
        <cite>// Allman, up to now, time to go 1TBS for If/Else</cite>
        <var>if</var> (i &lt; 5) {
            cout &lt;&lt; i &lt;&lt; endl;
        } <var>else</var> {
            cout &lt;&lt; i*2 &lt;&lt; <kbd>"\t"</kbd>;
        } <cite>// And of if/else clause, the last bracket is the only one that takes up it's own line</cite>
        <cite>// Allman again</cite>
    }
    <var>return</var> 0;
}</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
<br>
<b>On Comments</b>
Commenting is done to improve readability, but it is also possible to make your comments more readable. Use multi-line comments only when needed and avoid putting comments at the end of code lines. Avoid tabbing your comments, use newlines to make things clearer. See On Consistency for more information.<br>
<br>
The following comments may seem worthless, but I'm just trying to make clear what I told above.<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br></code></pre></td>
<td class="source"><pre><code><dfn>#include &lt;iostream&gt;</dfn>

<var>using</var> std::cout;
<var>using</var> std::endl;

<var>int</var> main()
{
    <cite>// Count</cite>
    <var>for</var>(<var>int</var> i = 0; i &lt; 9; i++)
    {
        cout &lt;&lt; i &lt;&lt; endl;
    }

    <cite>// Program termination</cite>
    <var>return</var> 0;
}</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
<br>
<b>On Consistency (General)</b>
When different alternatives achieve the same result (at the same speed and both in the same amount of code lines), assure that you remain consistent to a single method. This applies to post- and prefix additions and subtractions (++ / --), as well as functional and C-style conversions int() and (int).<br>
Whatever you do, be consistent.<br>
<br>
<b>On Function Calls (and definitions)</b>
Be consistent with the way you call and define functions, for the sake of readability. There are not only a lot of ways to do the same, but also a lot of ways to write the same statement. When you form your own coding style, try to stick with one that allows you to keep things clear for yourself. There is no perfect way to write things in general, there are, however, good ways to write things for yourself. All of the below mentioned ways are legit.<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br></code></pre></td>
<td class="source"><pre><code>power(3, 5)
power( 3,5 )
power(3,5)</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
<br>
<b>On Initialization</b>
Consistency applies to initializations, too:<br>
When given the choice between initializing at the start or later, use a single method. If you, however are left without a choice on which to use, use which ever you need.  Furthermore, use proper spacing when creating pointers or references (or references to pointers to pointers to pointers to references to blablabla).<br>
All of the following do the same (creating a reference to a pointer to a pointer to an integer called Variable). Whichever of these visualizes this structure to yourself the best is "the good way to go" for you. (There is NO wrong way, only "better" ways.)<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br></code></pre></td>
<td class="source"><pre><code><var>int</var>**&amp; Variable;
<var>int</var> **&amp; Variable;
<var>int</var> **&amp;Variable;
<var>int</var>** &amp;Variable;</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
<br>
<b>On Naming<br>
<i>The following is a guideline and is open for change (as long as it's consistent, of course).</i></b>
<br>
Naming is important for functions, classes, structures, unions, variables, namespaces and so on.<br>
How to do good naming?<br>
1. Make sure you name things by what they do (or are).<br>
2. Possibly prefix them by a one or two lowercase character that describes the named instance. (c for classes, s for strings, i for integers, d for doubles, etc)<br>
3. Start every word with a uppercase character and use lowercases for the rest. (An integer could become: iNumber)<br>
<br>
A single exception to these rules are loop-variables. These are often named by a single lowercase character.<br>
<br>
(All of this is just an observation of coding habits I have done for sometime. This is by no means a strict ruleset. It's more like a way to code that will easily be readable for anyone.)<br>
<br>
<b>On Operators</b>
Operators can be viewed as "editors" of "data". In this context it would be best to make clear sections as to organize this "data". This organization is subject to your own view on statements.<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br></code></pre></td>
<td class="source"><pre><code><var>int</var> iNumber = 6+5;
<var>int</var> iReturnValue = 4*iNumber +3;</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
<br>
<b>On Preprocessor Directives</b>
All spacing and newline rules apply here. For #define, however, make sure you make them differentiable from normal variables (making their names entirely uppercase is one method to do so, pre- AND postfixing their names with _ is another. You are free to do whatever you want, just keep things clear.)<br>
<br>
<br>
In the end, your programming style is something that shouldn't be forced upon you. However, keep in mind that to receive feedback for your code, people need to UNDERSTAND the code. If you want people to understand your code, make your code clear and easy to read.</div></div><div id="CH_bb"></div><div id="CH_scoreapp"></div><script type="text/javascript">new Score('CH_scoreapp','/articles/score.cgi','Gy86b7Xj');</script></div>
</div>
<div id="I_nav">
<div class="sect root">
<h3><b><a href="/">C++</a></b></h3>
<ul>
<li class="folder info"><a href="/info/">Information</a></li>
<li class="folder doc"><a href="/doc/">Tutorials</a></li>
<li class="folder reference"><a href="/reference/">Reference</a></li>
<li class="folder selected articles"><a href="/articles/">Articles</a></li>
<li class="folder forum"><a href="/forum/">Forum</a></li>
</ul>
</div>
<div class="sect">
<h3><b><a href="/articles/">Articles</a></b></h3>
<ul>
<li><a href="/articles/algorithms/">Algorithms</a></li><li><a href="/articles/cpp11/">C++ 11</a></li><li><a href="/articles/graphics/">Graphics and multimedia</a></li><li><a href="/articles/howto/">How-To</a></li><li><a href="/articles/language/">Language Features</a></li><li><a href="/articles/linux/">Unix/Linux programming</a></li><li><a href="/articles/sourcecode/">Source Code</a></li><li><a href="/articles/standard_library/">Standard Library</a></li><li><a href="/articles/tips/">Tips and Tricks</a></li><li><a href="/articles/tools/">Tools and Libraries</a></li><li><a href="/articles/visualcpp/">Visual C++</a></li><li><a href="/articles/winapi/">Windows API</a></li></ul>
</div>
<div id="I_subnav"></div>
</div>
<div id="I_midclear"></div>
</div>
</div>
<div id="I_bottom">
<div id="I_footer">
	<a href="/">Home page</a> | <a href="/privacy.do">Privacy policy</a><br>&copy; cplusplus.com, 2000-2016 - All rights reserved - <i>v3.1</i><br><a href="/contact.do?referrer=www.cplusplus.com%2Farticles%2FGy86b7Xj%2F">Spotted an error? contact us</a>
</div>
</div>

<script type="text/javascript">
<!--
onSession(function(us) {
		document.getElementById('I_subnav').innerHTML=
			us.ok?
				'<div class="sect"><h3><b><a href="/user/">'+us.user+'</a></b></h3><ul>'+
				'<li><a href="/articles/myitems.cgi">My items</a></li>'+
				(us.auth(32768)?'<li><a href="/articles/adminitems.cgi">Admin items</a></li>':'')+
				'</ul></div>'
			:'';
	}); onSession(function (us) {
		var el=document.getElementById('CH_bb'); el.innerHTML='';
		if ( (us.auth(32768)) || ((us.uniqid=='S3pjLyTq')&&(us.auth(128))) ) {
			el.appendChild(btn('Edit article','Edit this version of the article','edit','/articles/edit.cgi?a=Gy86b7Xj'));
	
			if (us.auth(32768)) {
				el.appendChild(btn('Delete article','Delete this article','delete','javascript:artdel()'));
			}
	
		}
	});
	function artdel() { if (confirm('WARNING: You are about to delete this page. Confirm?')) window.location='/articles/delete.cgi?a=Gy86b7Xj'; }
	ready();
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-521783-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//-->
</script>

</body>
</html>